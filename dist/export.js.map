{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/json-2-csv/src/converter.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/underscore/underscore.js","webpack:///./src/styles.less?dc85","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/styles.less","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/json-2-csv/src/utils.js","webpack:///./node_modules/doc-path/src/path.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/json-2-csv/src/json2csv.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/deeks/src/deeks.js","webpack:///./node_modules/json-2-csv/src/csv2json.js","webpack:///./src/components/BlackBoxPlusExport.js","webpack:///./src/components/BlackBoxPlusInfo.js","webpack:///./src/export.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","self","this","args","arguments","apply","err","undefined","Json2Csv","Csv2Json","utils","convert","converter","data","callback","options","convertAsync","deprecatedAsync","deprecatedName","replacementName","console","warn","json2csv","csv2json","json2csvAsync","json","csv2jsonAsync","csv","json2csvPromisified","csv2jsonPromisified","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","runtime","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","makeInvokeMethod","obj","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","invoke","result","__await","unwrapped","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","constructor","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","keys","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","root","global","previousUnderscore","_","ArrayProto","Array","ObjProto","SymbolProto","nativeIsArray","isArray","nativeKeys","nativeCreate","Ctor","_wrapped","nodeType","VERSION","builtinIteratee","optimizeCb","func","argCount","index","collection","accumulator","cb","iteratee","identity","isFunction","isObject","matcher","Infinity","restArguments","startIndex","Math","max","rest","baseCreate","shallowProperty","has","path","deepGet","MAX_ARRAY_INDEX","pow","getLength","isArrayLike","each","map","collect","results","currentKey","createReduce","dir","reducer","memo","initial","reduce","foldl","inject","reduceRight","foldr","find","detect","predicate","findIndex","findKey","filter","select","list","negate","every","all","some","any","contains","includes","include","item","fromIndex","guard","indexOf","contextPath","pluck","where","attrs","findWhere","computed","lastComputed","v","min","shuffle","sample","random","clone","last","rand","temp","sortBy","criteria","sort","left","right","a","b","group","behavior","partition","groupBy","indexBy","countBy","reStrSymbol","toArray","isString","match","size","pass","first","head","take","array","tail","drop","compact","Boolean","flatten","input","shallow","strict","output","idx","isArguments","j","len","without","otherArrays","difference","uniq","unique","isSorted","isBoolean","seen","union","arrays","intersection","argsLength","unzip","zip","createPredicateIndexFinder","findLastIndex","sortedIndex","low","high","mid","floor","createIndexFinder","predicateFind","lastIndexOf","range","start","step","ceil","chunk","count","executeBound","sourceFunc","boundFunc","callingContext","bound","callArgs","concat","partial","boundArgs","placeholder","position","bindAll","memoize","hasher","cache","address","delay","wait","setTimeout","defer","throttle","timeout","previous","later","leading","now","throttled","remaining","clearTimeout","trailing","cancel","debounce","immediate","debounced","callNow","wrapper","compose","after","times","before","once","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","collectNonEnumProps","nonEnumIdx","proto","prop","allKeys","mapObject","pairs","invert","functions","methods","names","createAssigner","keysFunc","defaults","source","extend","extendOwn","assign","eq","deepEq","keyInObj","pick","omit","String","tap","interceptor","isMatch","aStack","bStack","className","valueOf","areArrays","aCtor","bCtor","isEqual","isEmpty","isElement","nodelist","document","childNodes","Int8Array","isFinite","isSymbol","parseFloat","isNumber","isNull","isUndefined","noConflict","constant","noop","propertyOf","matches","accum","Date","getTime","escapeMap","unescapeMap","createEscaper","escaper","join","testRegexp","RegExp","replaceRegexp","string","test","replace","escape","unescape","fallback","idCounter","uniqueId","prefix","id","templateSettings","evaluate","interpolate","noMatch","escapes","escapeRegExp","escapeChar","template","text","settings","oldSettings","render","offset","variable","e","argument","chain","_chain","chainResult","mixin","toJSON","api","content","default","exported","locals","isOldIE","window","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","base","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","setAttribute","insert","appendChild","textStore","replaceText","replacement","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","removeChild","insertBefore","applyToTag","removeAttribute","btoa","encodeURIComponent","JSON","stringify","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","newObj","lastIdentifiers","newList","newLastIdentifiers","_i","_index","splice","___CSS_LOADER_API_IMPORT___","useSourceMap","cssMapping","sourceMapping","base64","sourceURLs","sources","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","constants","dateStringRegex","isEmptyField","fieldValue","isStringRepresentation","firstChar","lastIndex","lastChar","delimiter","isDateRepresentation","computeSchemaDifferences","schemaA","schemaB","deepCopy","parse","params","arg1","arg2","parseArguments","opts","defaultOptions","config","errors","callbackRequired","errorMessages","cannotCallOn","dataCheckFn","dataCheckFailure","validateParameters","validationMessages","validationFn","removeEmptyFields","fields","field","getNCharacters","str","substring","computeStateInformation","keyPath","indexOfDot","remainingKeyPath","evaluatePath","doc","setPath","_typeof","assertThisInitialized","_getPrototypeOf","subClass","superClass","ReferenceError","_setPrototypeOf","deeks","wrapDelimiterCheckRegex","crlfSearchRegex","deeksOptions","expandArrayObjects","ignoreEmptyArraysWhenExpanding","processSchemas","documentSchemas","checkSchemaDifferences","firstDocSchema","restOfDocumentSchemas","schemaDifferences","documentSchema","computeNumberOfSchemaDifferences","notSameSchema","uniqueFieldNames","sortHeaderFields","fieldNames","sortHeader","trimHeaderFields","headerFields","split","component","trim","wrapHeaderFields","prependHeader","headingKey","wrapFieldValueIfNecessary","generateCsvHeader","header","retrieveHeaderFields","deepKeysFromList","getFieldNameList","processRecords","records","processedRecordData","recordValues","recordFieldValue","emptyFieldValue","filteredRecordFieldValue","processRecordFieldDataForExpandedArrayObject","retrieveRecordFieldData","isDate","recordFieldValueToString","trimRecordFieldValue","eol","trimFieldValues","wrapDelimiter","generateCsvFromComponents","excelBOM","catch","g","webpackPolyfill","deprecate","paths","children","deepKeys","mergeOptions","generateDeepKeysList","heading","keyName","buildKeyName","val","isArrayToRecurOn","subArray","currentKeyPath","subArrayKeys","schemaKeys","subKey","processArrayKeys","upperKeyName","currentKeyName","escapedWrapDelimiterRegex","excelBOMRegex","processHeaderKey","headerKey","removeWrapDelimitersFromValue","retrieveHeading","lines","headerRow","splitCsvLines","character","charBefore","charAfter","nextNChar","splitLine","lastCharacterIndex","eolDelimiterLength","stateVariables","insideWrapDelimiter","parsingValue","justParsedDoubleQuote","toIndex","parsedValue","substr","splitLines","retrieveRecordLines","recordLines","retrieveRecordValueFromLine","line","parsedJson","trimRecordValue","parseValue","isError","processRecordValue","transformRecordLines","generatedJsonObjects","unescapeWrapDelimiterInField","generatedDocument","createDocument","BlackBoxPlusExport","countInTabs","urlBaseCache","force","setStatusLoading","callAPI","debug","memberId","getMemberId","limit","headers","getAPICallHeaders","footage","getCountInTabs","typeMapping","contribute","totalRecords","countContributeFootages","apiType","apiPost","curation","countCurationFootages","countContentFootages","pagesNeeded","page","url","fetch","request","ok","requestContent","setStatusError","setStatusProcessing","blackBoxPlusFootage","contributePromise","gatherFootageData","curationPromise","contentPromise","addMessage","blackBoxPlusFinancials","financialSummaryInfoPromise","getFinancialSummaryInfo","financialSummaryInfo","financialEarningsSummaryPromise","getFinancialEarningsSummary","financialEarningsSummary","getUnpaidEarningsPromise","getUnpaidEarnings","unpaidEarnings","getFinancialPaymentHistoryPromise","getFinancialPaymentHistory","financialPaymentHistory","getFinancialTotalEarningsReportPromise","getFinancialTotalEarningsReport","financialTotalEarningsReport","toDate","fromDate","getFormattedDate","dateMonthAgo","setMonth","getMonth","setDate","callPaginatedAPI","uri","urlBase","response","addFlashMessage","errorMessage","status","log","paginatedUri","items","pageInfo","element","fileName","contentType","file","Blob","href","URL","createObjectURL","download","jsonContent","makeLinkElementDownload","csvContent","downloadAutomatically","innerText","click","bookmarkletInfoId","idPostfix","infoElement","infoTextElement","infoStatusElement","infoHeaderElement","authToken","interfaceSection","messagesSection","bbox_m_header_menu_id","bookmarkletInfoElement","getElementById","insertAdjacentHTML","nav","createFooterSection","setHeader","setInterface","footerWrapperElement","footerElement","getElementsByTagName","interfaceSectionContent","$","width","html","innerHTML","messageHTML","existingHTML","message","autoRemove","flashElement","body","insertAdjacentElement","colour","color","setStatus","script","src","localStorage","token","imageUrl","attr","getAuthToken","getDefaultAPICallHeaders","collaboratedProjectsListResponse","collaboratedProjects","projectName","projectId","format","Month","Mday","getDate","st","MdaySingle","Year","getFullYear","h","getHours","ap","pm","hh","mm","getMinutes","blackBoxPlusExport","getAllFootage","getAllFinancials","linkhrefAndClassesJson","linkhrefAndClassesCsv","csvData","bbox_plus_download_workspace_items_contribute_csv_promise","bbox_plus_download_workspace_items_curation_csv_promise","bbox_plus_download_workspace_items_content_csv_promise","bbox_plus_download_financial_earnings_summary_csv_promise","bbox_plus_download_financial_summary_csv_promise","bbox_plus_download_financial_payment_history_csv_promise","bbox_plus_download_financial_total_earnings_report_csv_promise","bbox_plus_download_unpaid_earnings_csv_promise","dateFormat","makeLinkElementDownloadCsv","makeLinkElementDownloadJson","setStatusDone","scrollTo","scrollHeight"],"mappings":"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","file":"export.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 25);\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","'use strict';\n\nlet {Json2Csv} = require('./json2csv'), // Require our json-2-csv code\n    {Csv2Json} = require('./csv2json'), // Require our csv-2-json code\n    utils = require('./utils');\n\nmodule.exports = {\n    json2csv: (data, callback, options) => convert(Json2Csv, data, callback, options),\n    csv2json: (data, callback, options) => convert(Csv2Json, data, callback, options),\n    json2csvAsync: (json, options) => convertAsync(Json2Csv, json, options),\n    csv2jsonAsync: (csv, options) => convertAsync(Csv2Json, csv, options),\n\n    /**\n     * @deprecated Since v3.0.0\n     */\n    json2csvPromisified: (json, options) => deprecatedAsync(Json2Csv, 'json2csvPromisified()', 'json2csvAsync()', json, options),\n\n    /**\n     * @deprecated Since v3.0.0\n     */\n    csv2jsonPromisified: (csv, options) => deprecatedAsync(Csv2Json, 'csv2jsonPromisified()', 'csv2jsonAsync()', csv, options)\n};\n\n/**\n * Abstracted converter function for json2csv and csv2json functionality\n * Takes in the converter to be used (either Json2Csv or Csv2Json)\n * @param converter\n * @param data\n * @param callback\n * @param options\n */\nfunction convert(converter, data, callback, options) {\n    return utils.convert({\n        data: data,\n        callback,\n        options,\n        converter: converter\n    });\n}\n\n/**\n * Simple way to promisify a callback version of json2csv or csv2json\n * @param converter\n * @param data\n * @param options\n * @returns {Promise<any>}\n */\nfunction convertAsync(converter, data, options) {\n    return new Promise((resolve, reject) => convert(converter, data, (err, data) => {\n        if (err) {\n            return reject(err);\n        }\n        return resolve(data);\n    }, options));\n}\n\n/**\n * Simple way to provide a deprecation warning for previous promisified versions\n * of module functionality.\n * @param converter\n * @param deprecatedName\n * @param replacementName\n * @param data\n * @param options\n * @returns {Promise<any>}\n */\nfunction deprecatedAsync(converter, deprecatedName, replacementName, data, options) {\n    console.warn('WARNING: ' + deprecatedName + ' is deprecated and will be removed soon. Please use ' + replacementName + ' instead.');\n    return convertAsync(converter, data, options);\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","//     Underscore.js 1.9.1\n//     http://underscorejs.org\n//     (c) 2009-2018 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` (`self`) in the browser, `global`\n  // on the server, or `this` in some virtual machines. We use `self`\n  // instead of `window` for `WebWorker` support.\n  var root = typeof self == 'object' && self.self === self && self ||\n            typeof global == 'object' && global.global === global && global ||\n            this ||\n            {};\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype;\n  var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push = ArrayProto.push,\n      slice = ArrayProto.slice,\n      toString = ObjProto.toString,\n      hasOwnProperty = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var nativeIsArray = Array.isArray,\n      nativeKeys = Object.keys,\n      nativeCreate = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for their old module API. If we're in\n  // the browser, add `_` as a global object.\n  // (`nodeType` is checked to ensure that `module`\n  // and `exports` are not HTML elements.)\n  if (typeof exports != 'undefined' && !exports.nodeType) {\n    if (typeof module != 'undefined' && !module.nodeType && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.9.1';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      // The 2-argument case is omitted because were not using it.\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  var builtinIteratee;\n\n  // An internal function to generate callbacks that can be applied to each\n  // element in a collection, returning the desired result  either `identity`,\n  // an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (_.iteratee !== builtinIteratee) return _.iteratee(value, context);\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value) && !_.isArray(value)) return _.matcher(value);\n    return _.property(value);\n  };\n\n  // External wrapper for our callback generator. Users may customize\n  // `_.iteratee` if they want additional predicate/iteratee shorthand styles.\n  // This abstraction hides the internal-only argCount argument.\n  _.iteratee = builtinIteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // Some functions take a variable number of arguments, or a few expected\n  // arguments at the beginning and then a variable number of values to operate\n  // on. This helper accumulates all remaining arguments past the functions\n  // argument length (or an explicit `startIndex`), into an array that becomes\n  // the last argument. Similar to ES6s \"rest parameter\".\n  var restArguments = function(func, startIndex) {\n    startIndex = startIndex == null ? func.length - 1 : +startIndex;\n    return function() {\n      var length = Math.max(arguments.length - startIndex, 0),\n          rest = Array(length),\n          index = 0;\n      for (; index < length; index++) {\n        rest[index] = arguments[index + startIndex];\n      }\n      switch (startIndex) {\n        case 0: return func.call(this, rest);\n        case 1: return func.call(this, arguments[0], rest);\n        case 2: return func.call(this, arguments[0], arguments[1], rest);\n      }\n      var args = Array(startIndex + 1);\n      for (index = 0; index < startIndex; index++) {\n        args[index] = arguments[index];\n      }\n      args[startIndex] = rest;\n      return func.apply(this, args);\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var shallowProperty = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  var has = function(obj, path) {\n    return obj != null && hasOwnProperty.call(obj, path);\n  }\n\n  var deepGet = function(obj, path) {\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      if (obj == null) return void 0;\n      obj = obj[path[i]];\n    }\n    return length ? obj : void 0;\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object.\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = shallowProperty('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  var createReduce = function(dir) {\n    // Wrap code that reassigns argument variables in a separate function than\n    // the one that accesses `arguments.length` to avoid a perf hit. (#1991)\n    var reducer = function(obj, iteratee, memo, initial) {\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      if (!initial) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    };\n\n    return function(obj, iteratee, memo, context) {\n      var initial = arguments.length >= 3;\n      return reducer(obj, optimizeCb(iteratee, context, 4), memo, initial);\n    };\n  };\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var keyFinder = isArrayLike(obj) ? _.findIndex : _.findKey;\n    var key = keyFinder(obj, predicate, context);\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = restArguments(function(obj, path, args) {\n    var contextPath, func;\n    if (_.isFunction(path)) {\n      func = path;\n    } else if (_.isArray(path)) {\n      contextPath = path.slice(0, -1);\n      path = path[path.length - 1];\n    }\n    return _.map(obj, function(context) {\n      var method = func;\n      if (!method) {\n        if (contextPath && contextPath.length) {\n          context = deepGet(context, contextPath);\n        }\n        if (context == null) return void 0;\n        method = context[path];\n      }\n      return method == null ? method : method.apply(context, args);\n    });\n  });\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null || typeof iteratee == 'number' && typeof obj[0] != 'object' && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value != null && value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(v, index, list) {\n        computed = iteratee(v, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = v;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection.\n  _.shuffle = function(obj) {\n    return _.sample(obj, Infinity);\n  };\n\n  // Sample **n** random values from a collection using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    var sample = isArrayLike(obj) ? _.clone(obj) : _.values(obj);\n    var length = getLength(sample);\n    n = Math.max(Math.min(n, length), 0);\n    var last = length - 1;\n    for (var index = 0; index < n; index++) {\n      var rand = _.random(index, last);\n      var temp = sample[index];\n      sample[index] = sample[rand];\n      sample[rand] = temp;\n    }\n    return sample.slice(0, n);\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    var index = 0;\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, key, list) {\n      return {\n        value: value,\n        index: index++,\n        criteria: iteratee(value, key, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior, partition) {\n    return function(obj, iteratee, context) {\n      var result = partition ? [[], []] : {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  var reStrSymbol = /[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (_.isString(obj)) {\n      // Keep surrogate pair characters together\n      return obj.match(reStrSymbol);\n    }\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = group(function(result, value, pass) {\n    result[pass ? 0 : 1].push(value);\n  }, true);\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null || array.length < 1) return n == null ? void 0 : [];\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, Boolean);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, output) {\n    output = output || [];\n    var idx = output.length;\n    for (var i = 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        // Flatten current level of array or arguments object.\n        if (shallow) {\n          var j = 0, len = value.length;\n          while (j < len) output[idx++] = value[j++];\n        } else {\n          flatten(value, shallow, strict, output);\n          idx = output.length;\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = restArguments(function(array, otherArrays) {\n    return _.difference(array, otherArrays);\n  });\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // The faster algorithm will not work with an iteratee if the iteratee\n  // is not a one-to-one function, so providing an iteratee will disable\n  // the faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted && !iteratee) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = restArguments(function(arrays) {\n    return _.uniq(flatten(arrays, true, true));\n  });\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      var j;\n      for (j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = restArguments(function(array, rest) {\n    rest = flatten(rest, true, true);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  });\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices.\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = restArguments(_.unzip);\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values. Passing by pairs is the reverse of _.pairs.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions.\n  var createPredicateIndexFinder = function(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  };\n\n  // Returns the first index on an array-like that passes a predicate test.\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions.\n  var createIndexFinder = function(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n          i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n          length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  };\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    if (!step) {\n      step = stop < start ? -1 : 1;\n    }\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Chunk a single array into multiple arrays, each containing `count` or fewer\n  // items.\n  _.chunk = function(array, count) {\n    if (count == null || count < 1) return [];\n    var result = [];\n    var i = 0, length = array.length;\n    while (i < length) {\n      result.push(slice.call(array, i, i += count));\n    }\n    return result;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments.\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = restArguments(function(func, context, args) {\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var bound = restArguments(function(callArgs) {\n      return executeBound(func, bound, context, this, args.concat(callArgs));\n    });\n    return bound;\n  });\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder by default, allowing any combination of arguments to be\n  // pre-filled. Set `_.partial.placeholder` for a custom placeholder argument.\n  _.partial = restArguments(function(func, boundArgs) {\n    var placeholder = _.partial.placeholder;\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === placeholder ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  });\n\n  _.partial.placeholder = _;\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = restArguments(function(obj, keys) {\n    keys = flatten(keys, false, false);\n    var index = keys.length;\n    if (index < 1) throw new Error('bindAll must be passed function names');\n    while (index--) {\n      var key = keys[index];\n      obj[key] = _.bind(obj[key], obj);\n    }\n  });\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = restArguments(function(func, wait, args) {\n    return setTimeout(function() {\n      return func.apply(null, args);\n    }, wait);\n  });\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options) options = {};\n\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n\n    var throttled = function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n\n    throttled.cancel = function() {\n      clearTimeout(timeout);\n      previous = 0;\n      timeout = context = args = null;\n    };\n\n    return throttled;\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n\n    var later = function(context, args) {\n      timeout = null;\n      if (args) result = func.apply(context, args);\n    };\n\n    var debounced = restArguments(function(args) {\n      if (timeout) clearTimeout(timeout);\n      if (immediate) {\n        var callNow = !timeout;\n        timeout = setTimeout(later, wait);\n        if (callNow) result = func.apply(this, args);\n      } else {\n        timeout = _.delay(later, wait, this, args);\n      }\n\n      return result;\n    });\n\n    debounced.cancel = function() {\n      clearTimeout(timeout);\n      timeout = null;\n    };\n\n    return debounced;\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  _.restArguments = restArguments;\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n    'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  var collectNonEnumProps = function(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  };\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`.\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object.\n  // In contrast to _.map it returns an object.\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = _.keys(obj),\n        length = keys.length,\n        results = {};\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys[index];\n      results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  // The opposite of _.object.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`.\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, defaults) {\n    return function(obj) {\n      var length = arguments.length;\n      if (defaults) obj = Object(obj);\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!defaults || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s).\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test.\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Internal pick helper function to determine if `obj` has key `key`.\n  var keyInObj = function(value, key, obj) {\n    return key in obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = restArguments(function(obj, keys) {\n    var result = {}, iteratee = keys[0];\n    if (obj == null) return result;\n    if (_.isFunction(iteratee)) {\n      if (keys.length > 1) iteratee = optimizeCb(iteratee, keys[1]);\n      keys = _.allKeys(obj);\n    } else {\n      iteratee = keyInObj;\n      keys = flatten(keys, false, false);\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  });\n\n  // Return a copy of the object without the blacklisted properties.\n  _.omit = restArguments(function(obj, keys) {\n    var iteratee = keys[0], context;\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n      if (keys.length > 1) context = keys[1];\n    } else {\n      keys = _.map(flatten(keys, false, false), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  });\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq, deepEq;\n  eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // `null` or `undefined` only equal to itself (strict comparison).\n    if (a == null || b == null) return false;\n    // `NaN`s are equivalent, but non-reflexive.\n    if (a !== a) return b !== b;\n    // Exhaust primitive checks\n    var type = typeof a;\n    if (type !== 'function' && type !== 'object' && typeof b != 'object') return false;\n    return deepEq(a, b, aStack, bStack);\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  deepEq = function(a, b, aStack, bStack) {\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN.\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n      case '[object Symbol]':\n        return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError, isMap, isWeakMap, isSet, isWeakSet.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error', 'Symbol', 'Map', 'WeakMap', 'Set', 'WeakSet'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), Safari 8 (#1929), and PhantomJS (#2236).\n  var nodelist = root.document && root.document.childNodes;\n  if (typeof /./ != 'function' && typeof Int8Array != 'object' && typeof nodelist != 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return !_.isSymbol(obj) && isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`?\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && isNaN(obj);\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, path) {\n    if (!_.isArray(path)) {\n      return has(obj, path);\n    }\n    var length = path.length;\n    for (var i = 0; i < length; i++) {\n      var key = path[i];\n      if (obj == null || !hasOwnProperty.call(obj, key)) {\n        return false;\n      }\n      obj = obj[key];\n    }\n    return !!length;\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  // Creates a function that, when passed an object, will traverse that objects\n  // properties down the given `path`, specified as an array of keys or indexes.\n  _.property = function(path) {\n    if (!_.isArray(path)) {\n      return shallowProperty(path);\n    }\n    return function(obj) {\n      return deepGet(obj, path);\n    };\n  };\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    if (obj == null) {\n      return function(){};\n    }\n    return function(path) {\n      return !_.isArray(path) ? obj[path] : deepGet(obj, path);\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // Traverses the children of `obj` along `path`. If a child is a function, it\n  // is invoked with its parent as context. Returns the value of the final\n  // child, or `fallback` if any child is undefined.\n  _.result = function(obj, path, fallback) {\n    if (!_.isArray(path)) path = [path];\n    var length = path.length;\n    if (!length) {\n      return _.isFunction(fallback) ? fallback.call(obj) : fallback;\n    }\n    for (var i = 0; i < length; i++) {\n      var prop = obj == null ? void 0 : obj[path[i]];\n      if (prop === void 0) {\n        prop = fallback;\n        i = length; // Ensure we don't continue iterating.\n      }\n      obj = _.isFunction(prop) ? prop.call(obj) : prop;\n    }\n    return obj;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate: /<%([\\s\\S]+?)%>/g,\n    interpolate: /<%=([\\s\\S]+?)%>/g,\n    escape: /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\": \"'\",\n    '\\\\': '\\\\',\n    '\\r': 'r',\n    '\\n': 'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escapeRegExp = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escapeRegExp, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offset.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    var render;\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var chainResult = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return chainResult(this, func.apply(_, args));\n      };\n    });\n    return _;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return chainResult(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return chainResult(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return String(this._wrapped);\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define == 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}());\n","var api = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!./styles.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".bbox_plus_info_text {\\n  text-shadow: 2px 2px 2px grey;\\n}\\n/* The alert message box */\\n.bbox_plus_flash_message {\\n  position: fixed;\\n  top: 200px;\\n  left: 20px;\\n  width: 200px;\\n  display: block;\\n  z-index: 9999;\\n  padding: 10px;\\n  border-radius: 6px;\\n  color: white;\\n  background: rgba(244, 67, 54, 0.8);\\n  border: 2px solid red;\\n  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.7);\\n}\\n.bbox_plus_flash_message_type_info {\\n  color: #31708f;\\n  background: rgba(217, 237, 247, 0.9);\\n  border-color: #c6dbe6;\\n}\\n.bbox_plus_flash_message_type_success {\\n  color: darkgreen;\\n  background: rgba(144, 238, 144, 0.9);\\n  border: darkgreen;\\n}\\n.bbox_plus_flash_message_type_warn {\\n  color: #9F6000;\\n  border-color: #9F6000;\\n  background: rgba(254, 239, 179, 0.9);\\n}\\n.bbox_plus_flash_message_type_error {\\n  color: #D8000C;\\n  background: rgba(255, 186, 186, 0.9);\\n  border-color: red;\\n}\\n/* The close button */\\n.bbox_plus_flash_message_closebtn {\\n  margin-left: 15px;\\n  color: black;\\n  font-weight: bold;\\n  float: right;\\n  font-size: 22px;\\n  line-height: 20px;\\n  cursor: pointer;\\n  transition: 0.3s;\\n}\\n.bbox_plus_flash_message_closebtn:hover {\\n  color: black;\\n  font-size: 27px;\\n}\\n.bbox_plus_download_link {\\n  font-weight: bold;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","'use strict';\n\nlet constants = require('./constants.json'),\n    _ = require('underscore');\n\nconst dateStringRegex = /\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.\\d{3}Z/;\n\nmodule.exports = {\n    isStringRepresentation,\n    isDateRepresentation,\n    computeSchemaDifferences,\n    deepCopy,\n    convert,\n    isEmptyField,\n    removeEmptyFields,\n    getNCharacters\n};\n\n/**\n * Build the options to be passed to the appropriate function\n * If a user does not provide custom options, then we use our default\n * If options are provided, then we set each valid key that was passed\n * @param opts {Object} options object\n * @return {Object} options object\n */\nfunction buildOptions(opts) {\n    opts = _.defaults(opts || {}, constants.defaultOptions);\n\n    // Note: _.defaults does a shallow default, we need to deep copy the DELIMITER object\n    opts.delimiter = _.defaults(opts.delimiter, constants.defaultOptions.delimiter);\n\n    // Otherwise, send the options back\n    return opts;\n}\n\n/**\n * When promisified, the callback and options argument ordering is swapped, so\n * this function is intended to determine which argument is which and return\n * them in the correct order\n * @param arg1 {Object|Function} options or callback\n * @param arg2 {Object|Function} options or callback\n */\nfunction parseArguments(arg1, arg2) {\n    // If this was promisified (callback and opts are swapped) then fix the argument order.\n    if (_.isObject(arg1) && !_.isFunction(arg1)) {\n        return {\n            options: arg1,\n            callback: arg2\n        };\n    }\n    // Regular ordering where the callback is provided before the options object\n    return {\n        options: arg2,\n        callback: arg1\n    };\n}\n\n/**\n * Validates the parameters passed in to json2csv and csv2json\n * @param config {Object} of the form: { data: {Any}, callback: {Function}, dataCheckFn: Function, errorMessages: {Object} }\n */\nfunction validateParameters(config) {\n    // If a callback wasn't provided, throw an error\n    if (!config.callback) {\n        throw new Error(constants.errors.callbackRequired);\n    }\n\n    // If we don't receive data, report an error\n    if (!config.data) {\n        config.callback(new Error(config.errorMessages.cannotCallOn + config.data + '.'));\n        return false;\n    }\n\n    // The data provided data does not meet the type check requirement\n    if (!config.dataCheckFn(config.data)) {\n        config.callback(new Error(config.errorMessages.dataCheckFailure));\n        return false;\n    }\n\n    // If we didn't hit any known error conditions, then the data is so far determined to be valid\n    // Note: json2csv/csv2json may perform additional validity checks on the data\n    return true;\n}\n\n/**\n * Abstracted function to perform the conversion of json-->csv or csv-->json\n * depending on the converter class that is passed via the params object\n * @param params {Object}\n */\nfunction convert(params) {\n    let {options, callback} = parseArguments(params.callback, params.options);\n    options = buildOptions(options);\n\n    let converter = new params.converter(options),\n\n        // Validate the parameters before calling the converter's convert function\n        valid = validateParameters({\n            data: params.data,\n            callback,\n            errorMessages: converter.validationMessages,\n            dataCheckFn: converter.validationFn\n        });\n\n    if (valid) converter.convert(params.data, callback);\n}\n\n/**\n * Utility function to deep copy an object, used by the module tests\n * @param obj\n * @returns {any}\n */\nfunction deepCopy(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\n\n/**\n * Helper function that determines whether the provided value is a representation\n *   of a string. Given the RFC4180 requirements, that means that the value is\n *   wrapped in value wrap delimiters (usually a quotation mark on each side).\n * @param fieldValue\n * @param options\n * @returns {boolean}\n */\nfunction isStringRepresentation(fieldValue, options) {\n    const firstChar = fieldValue[0],\n        lastIndex = fieldValue.length - 1,\n        lastChar = fieldValue[lastIndex];\n\n    // If the field starts and ends with a wrap delimiter\n    return firstChar === options.delimiter.wrap && lastChar === options.delimiter.wrap;\n}\n\n/**\n * Helper function that determines whether the provided value is a representation\n *   of a date.\n * @param fieldValue\n * @returns {boolean}\n */\nfunction isDateRepresentation(fieldValue) {\n    return dateStringRegex.test(fieldValue);\n}\n\n/**\n * Helper function that determines the schema differences between two objects.\n * @param schemaA\n * @param schemaB\n * @returns {*}\n */\nfunction computeSchemaDifferences(schemaA, schemaB) {\n    return _.difference(schemaA, schemaB)\n        .concat(_.difference(schemaB, schemaA));\n}\n\n/**\n * Utility function to check if a field is considered empty so that the emptyFieldValue can be used instead\n * @param fieldValue\n * @returns {boolean}\n */\nfunction isEmptyField(fieldValue) {\n    return _.isUndefined(fieldValue) || _.isNull(fieldValue) || fieldValue === '';\n}\n\n/**\n * Helper function that removes empty field values from an array.\n * @param fields\n * @returns {Array}\n */\nfunction removeEmptyFields(fields) {\n    return _.filter(fields, (field) => !isEmptyField(field));\n}\n\n/**\n * Helper function that retrieves the next n characters from the start index in\n *   the string including the character at the start index. This is used to\n *   check if are currently at an EOL value, since it could be multiple\n *   characters in length (eg. '\\r\\n')\n * @param str\n * @param start\n * @param n\n * @returns {string}\n */\nfunction getNCharacters(str, start, n) {\n    return str.substring(start, start + n);\n}\n","'use strict';\n\nmodule.exports = {\n    evaluatePath,\n    setPath\n};\n\nfunction evaluatePath(document, keyPath) {\n    if (!document) {\n        return null;\n    }\n\n    let {indexOfDot, currentKey, remainingKeyPath} = computeStateInformation(keyPath);\n\n    // If there is a '.' in the keyPath and keyPath doesn't appear in the document, recur on the subdocument\n    if (indexOfDot >= 0 && !document[keyPath]) {\n        // If there's an array at the currentKey in the document, then iterate over those items evaluating the remaining path\n        if (Array.isArray(document[currentKey])) {\n            return document[currentKey].map((doc) => evaluatePath(doc, remainingKeyPath));\n        }\n        // Otherwise, we can just recur\n        return evaluatePath(document[currentKey], remainingKeyPath);\n    } else if (Array.isArray(document)) {\n        // If this \"document\" is actually an array, then iterate over those items evaluating the path\n        return document.map((doc) => evaluatePath(doc, keyPath));\n    }\n\n    // Otherwise, we can just return value directly\n    return document[keyPath];\n}\n\nfunction setPath(document, keyPath, value) {\n    if (!document) {\n        throw new Error('No document was provided.');\n    }\n\n    let {indexOfDot, currentKey, remainingKeyPath} = computeStateInformation(keyPath);\n\n    // If there is a '.' in the keyPath, recur on the subdoc and ...\n    if (indexOfDot >= 0) {\n        if (!document[currentKey] && Array.isArray(document)) {\n            // If this is an array and there are multiple levels of keys to iterate over, recur.\n            return document.forEach((doc) => setPath(doc, keyPath, value));\n        } else if (!document[currentKey]) {\n            // If the currentKey doesn't exist yet, populate it\n            document[currentKey] = {};\n        }\n        setPath(document[currentKey], remainingKeyPath, value);\n    } else if (Array.isArray(document)) {\n        // If this \"document\" is actually an array, then we can loop over each of the values and set the path\n        return document.forEach((doc) => setPath(doc, remainingKeyPath, value));\n    } else {\n        // Otherwise, we can set the path directly\n        document[keyPath] = value;\n    }\n\n    return document;\n}\n\n/**\n * Helper function that returns some information necessary to evaluate or set a path\n *   based on the provided keyPath value\n * @param keyPath\n * @returns {{indexOfDot: Number, currentKey: String, remainingKeyPath: String}}\n */\nfunction computeStateInformation(keyPath) {\n    let indexOfDot = keyPath.indexOf('.');\n\n    return {\n        indexOfDot,\n        currentKey: keyPath.slice(0, indexOfDot >= 0 ? indexOfDot : undefined),\n        remainingKeyPath: keyPath.slice(indexOfDot + 1)\n    };\n}\n","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","'use strict';\n\nlet constants = require('./constants.json'),\n    utils = require('./utils'),\n    _ = require('underscore'),\n    path = require('doc-path'),\n    deeks = require('deeks');\n\nconst Json2Csv = function(options) {\n    const wrapDelimiterCheckRegex = new RegExp(options.delimiter.wrap, 'g'),\n        crlfSearchRegex = /\\r?\\n|\\r/,\n        deeksOptions = {\n            expandArrayObjects: options.expandArrayObjects,\n            ignoreEmptyArraysWhenExpanding: options.expandArrayObjects\n        };\n\n    /** HEADER FIELD FUNCTIONS **/\n\n    /**\n     * Returns the list of data field names of all documents in the provided list\n     * @param data {Array<Object>} Data to be converted\n     * @returns {Promise.<Array[String]>}\n     */\n    function getFieldNameList(data) {\n        // If keys weren't specified, then we'll use the list of keys generated by the deeks module\n        return Promise.resolve(deeks.deepKeysFromList(data, deeksOptions));\n    }\n\n    /**\n     * Processes the schemas by checking for schema differences, if so desired.\n     * If schema differences are not to be checked, then it resolves the unique\n     * list of field names.\n     * @param documentSchemas\n     * @returns {Promise.<Array[String]>}\n     */\n    function processSchemas(documentSchemas) {\n        // If the user wants to check for the same schema (regardless of schema ordering)\n        if (options.checkSchemaDifferences) {\n            return checkSchemaDifferences(documentSchemas);\n        } else {\n            // Otherwise, we do not care if the schemas are different, so we should get the unique list of keys\n            let uniqueFieldNames = _.uniq(_.flatten(documentSchemas));\n            return Promise.resolve(uniqueFieldNames);\n        }\n    }\n\n    /**\n     * This function performs the schema difference check, if the user specifies that it should be checked.\n     * If there are no field names, then there are no differences.\n     * Otherwise, we get the first schema and the remaining list of schemas\n     * @param documentSchemas\n     * @returns {*}\n     */\n    function checkSchemaDifferences(documentSchemas) {\n        // have multiple documents - ensure only one schema (regardless of field ordering)\n        let firstDocSchema = documentSchemas[0],\n            restOfDocumentSchemas = documentSchemas.slice(1),\n            schemaDifferences = computeNumberOfSchemaDifferences(firstDocSchema, restOfDocumentSchemas);\n\n        // If there are schema inconsistencies, throw a schema not the same error\n        if (schemaDifferences) {\n            return Promise.reject(new Error(constants.errors.json2csv.notSameSchema));\n        }\n\n        return Promise.resolve(firstDocSchema);\n    }\n\n    /**\n     * Computes the number of schema differences\n     * @param firstDocSchema\n     * @param restOfDocumentSchemas\n     * @returns {*}\n     */\n    function computeNumberOfSchemaDifferences(firstDocSchema, restOfDocumentSchemas) {\n        return restOfDocumentSchemas.reduce((schemaDifferences, documentSchema) => {\n            // If there is a difference between the schemas, increment the counter of schema inconsistencies\n            let numberOfDifferences = utils.computeSchemaDifferences(firstDocSchema, documentSchema).length;\n            return numberOfDifferences > 0\n                ? schemaDifferences + 1\n                : schemaDifferences;\n        }, 0);\n    }\n\n    /**\n     * If so specified, this sorts the header field names alphabetically\n     * @param fieldNames {Array<String>}\n     * @returns {Array<String>} sorted field names, or unsorted if sorting not specified\n     */\n    function sortHeaderFields(fieldNames) {\n        if (options.sortHeader) {\n            return fieldNames.sort();\n        }\n        return fieldNames;\n    }\n\n    /**\n     * Trims the header fields, if the user desires them to be trimmed.\n     * @param params\n     * @returns {*}\n     */\n    function trimHeaderFields(params) {\n        if (options.trimHeaderFields) {\n            params.headerFields = params.headerFields.map((field) => field.split('.')\n                .map((component) => component.trim())\n                .join('.')\n            );\n        }\n        return params;\n    }\n\n    /**\n     * Wrap the headings, if desired by the user.\n     * @param params\n     * @returns {*}\n     */\n    function wrapHeaderFields(params) {\n        // only perform this if we are actually prepending the header\n        if (options.prependHeader) {\n            params.headerFields = params.headerFields.map(function(headingKey) {\n                return wrapFieldValueIfNecessary(headingKey);\n            });\n        }\n        return params;\n    }\n\n    /**\n     * Generates the CSV header string by joining the headerFields by the field delimiter\n     * @param params\n     * @returns {*}\n     */\n    function generateCsvHeader(params) {\n        params.header = params.headerFields.join(options.delimiter.field);\n        return params;\n    }\n\n    /**\n     * Retrieve the headings for all documents and return it.\n     * This checks that all documents have the same schema.\n     * @param data\n     * @returns {Promise}\n     */\n    function retrieveHeaderFields(data) {\n        if (options.keys) {\n            return Promise.resolve(options.keys)\n                .then(sortHeaderFields);\n        }\n\n        return getFieldNameList(data)\n            .then(processSchemas)\n            .then(sortHeaderFields);\n    }\n\n    /** RECORD FIELD FUNCTIONS **/\n\n    /**\n     * Main function which handles the processing of a record, or document to be converted to CSV format\n     * This function specifies and performs the necessary operations in the necessary order\n     * in order to obtain the data and convert it to CSV form while maintaining RFC 4180 compliance.\n     * * Order of operations:\n     * - Get fields from provided key list (as array of actual values)\n     * - Convert the values to csv/string representation [possible option here for custom converters?]\n     * - Trim fields\n     * - Determine if they need to be wrapped (& wrap if necessary)\n     * - Combine values for each line (by joining by field delimiter)\n     * @param params\n     * @returns {*}\n     */\n    function processRecords(params) {\n        params.records = params.records.map((record) => {\n            // Retrieve data for each of the headerFields from this record\n            let recordFieldData = retrieveRecordFieldData(record, params.headerFields),\n\n                // Process the data in this record and return the\n                processedRecordData = recordFieldData.map((fieldValue) => {\n                    fieldValue = trimRecordFieldValue(fieldValue);\n                    fieldValue = recordFieldValueToString(fieldValue);\n                    fieldValue = wrapFieldValueIfNecessary(fieldValue);\n\n                    return fieldValue;\n                });\n\n            // Join the record data by the field delimiter\n            return generateCsvRowFromRecord(processedRecordData);\n        }).join(options.delimiter.eol);\n\n        return params;\n    }\n\n    /**\n     * Helper function intended to process *just* array values when the expandArrayObjects setting is set to true\n     * @param recordFieldValue\n     * @returns {*} processed array value\n     */\n    function processRecordFieldDataForExpandedArrayObject(recordFieldValue) {\n        let filteredRecordFieldValue = utils.removeEmptyFields(recordFieldValue);\n\n        // If we have an array and it's either empty of full of empty values, then use an empty value representation\n        if (!recordFieldValue.length || !filteredRecordFieldValue.length) {\n            return options.emptyFieldValue || '';\n        } else if (filteredRecordFieldValue.length === 1) {\n            // Otherwise, we have an array of actual values...\n            // Since we are expanding array objects, we will want to key in on values of objects.\n            return filteredRecordFieldValue[0]; // Extract the single value in the array\n        }\n\n        return recordFieldValue;\n    }\n\n    /**\n     * Gets all field values from a particular record for the given list of fields\n     * @param record\n     * @param fields\n     * @returns {Array}\n     */\n    function retrieveRecordFieldData(record, fields) {\n        let recordValues = [];\n\n        fields.forEach((field) => {\n            let recordFieldValue = path.evaluatePath(record, field);\n\n            if (!_.isUndefined(options.emptyFieldValue) && utils.isEmptyField(recordFieldValue)) {\n                recordFieldValue = options.emptyFieldValue;\n            } else if (options.expandArrayObjects && Array.isArray(recordFieldValue)) {\n                recordFieldValue = processRecordFieldDataForExpandedArrayObject(recordFieldValue);\n            }\n\n            recordValues.push(recordFieldValue);\n        });\n\n        return recordValues;\n    }\n\n    /**\n     * Converts a record field value to its string representation\n     * @param fieldValue\n     * @returns {*}\n     */\n    function recordFieldValueToString(fieldValue) {\n        if (_.isArray(fieldValue) || _.isObject(fieldValue) && !_.isDate(fieldValue)) {\n            return JSON.stringify(fieldValue);\n        } else if (_.isUndefined(fieldValue)) {\n            return 'undefined';\n        } else if (_.isNull(fieldValue)) {\n            return 'null';\n        } else {\n            return fieldValue.toString();\n        }\n    }\n\n    /**\n     * Trims the record field value, if specified by the user's provided options\n     * @param fieldValue\n     * @returns {*}\n     */\n    function trimRecordFieldValue(fieldValue) {\n        if (options.trimFieldValues) {\n            if (_.isArray(fieldValue)) {\n                return fieldValue.map(trimRecordFieldValue);\n            } else if (_.isString(fieldValue)) {\n                return fieldValue.trim();\n            }\n            return fieldValue;\n        }\n        return fieldValue;\n    }\n\n    /**\n     * Escapes quotation marks in the field value, if necessary, and appropriately\n     * wraps the record field value if it contains a comma (field delimiter),\n     * quotation mark (wrap delimiter), or a line break (CRLF)\n     * @param fieldValue\n     * @returns {*}\n     */\n    function wrapFieldValueIfNecessary(fieldValue) {\n        const wrapDelimiter = options.delimiter.wrap;\n\n        // eg. includes quotation marks (default delimiter)\n        if (fieldValue.includes(options.delimiter.wrap)) {\n            // add an additional quotation mark before each quotation mark appearing in the field value\n            fieldValue = fieldValue.replace(wrapDelimiterCheckRegex, wrapDelimiter + wrapDelimiter);\n        }\n        // if the field contains a comma (field delimiter), quotation mark (wrap delimiter), line break, or CRLF\n        //   then enclose it in quotation marks (wrap delimiter)\n        if (fieldValue.includes(options.delimiter.field) ||\n            fieldValue.includes(options.delimiter.wrap) ||\n            fieldValue.match(crlfSearchRegex)) {\n            // wrap the field's value in a wrap delimiter (quotation marks by default)\n            fieldValue = wrapDelimiter + fieldValue + wrapDelimiter;\n        }\n\n        return fieldValue;\n    }\n\n    /**\n     * Generates the CSV record string by joining the field values together by the field delimiter\n     * @param recordFieldValues\n     */\n    function generateCsvRowFromRecord(recordFieldValues) {\n        return recordFieldValues.join(options.delimiter.field);\n    }\n\n    /** CSV COMPONENT COMBINER/FINAL PROCESSOR **/\n    /**\n     * Performs the final CSV construction by combining the fields in the appropriate\n     * order depending on the provided options values and sends the generated CSV\n     * back to the user\n     * @param params\n     */\n    function generateCsvFromComponents(params) {\n        let header = params.header,\n            records = params.records,\n\n            // If we are prepending the header, then add an EOL, otherwise just return the records\n            csv = (options.excelBOM ? constants.values.excelBOM : '') +\n                (options.prependHeader ? header + options.delimiter.eol : '') +\n                records;\n\n        return params.callback(null, csv);\n    }\n\n    /** MAIN CONVERTER FUNCTION **/\n\n    /**\n     * Internally exported json2csv function\n     * Takes data as either a document or array of documents and a callback that will be used to report the results\n     * @param data {Object|Array<Object>} documents to be converted to csv\n     * @param callback {Function} callback function\n     */\n    function convert(data, callback) {\n        // Single document, not an array\n        if (_.isObject(data) && !data.length) {\n            data = [data]; // Convert to an array of the given document\n        }\n\n        // Retrieve the heading and then generate the CSV with the keys that are identified\n        retrieveHeaderFields(data)\n            .then((headerFields) => ({\n                headerFields,\n                callback,\n                records: data\n            }))\n            .then(processRecords)\n            .then(wrapHeaderFields)\n            .then(trimHeaderFields)\n            .then(generateCsvHeader)\n            .then(generateCsvFromComponents)\n            .catch(callback);\n    }\n\n    return {\n        convert,\n        validationFn: _.isObject,\n        validationMessages: constants.errors.json2csv\n    };\n};\n\nmodule.exports = { Json2Csv };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nconst _ = require('underscore');\n\nmodule.exports = {\n    deepKeys: deepKeys,\n    deepKeysFromList: deepKeysFromList\n};\n\n/**\n * Return the deep keys list for a single document\n * @param object\n * @param options\n * @returns {Array}\n */\nfunction deepKeys(object, options) {\n    options = mergeOptions(options);\n    if (_.isObject(object)) {\n        return generateDeepKeysList('', object, options);\n    }\n    return [];\n}\n\n/**\n * Return the deep keys list for all documents in the provided list\n * @param list\n * @param options\n * @returns Array[Array[String]]\n */\nfunction deepKeysFromList(list, options) {\n    options = mergeOptions(options);\n    return list.map((document) => { // for each document\n        if (_.isObject(document)) {\n            // if the data at the key is a document, then we retrieve the subHeading starting with an empty string heading and the doc\n            return deepKeys(document, options);\n        }\n        return [];\n    });\n}\n\nfunction generateDeepKeysList(heading, data, options) {\n    let keys = Object.keys(data).map((currentKey) => {\n        // If the given heading is empty, then we set the heading to be the subKey, otherwise set it as a nested heading w/ a dot\n        let keyName = buildKeyName(heading, currentKey);\n\n        // If we have another nested document, recur on the sub-document to retrieve the full key name\n        if (isDocumentToRecurOn(data[currentKey])) {\n            return generateDeepKeysList(keyName, data[currentKey], options);\n        } else if (options.expandArrayObjects && isArrayToRecurOn(data[currentKey])) {\n            // If we have a nested array that we need to recur on\n            return processArrayKeys(data[currentKey], currentKey, options);\n        }\n        // Otherwise return this key name since we don't have a sub document\n        return keyName;\n    });\n\n    return _.flatten(keys);\n}\n\n/**\n * Helper function to handle the processing of arrays when the expandArrayObjects\n * option is specified.\n * @param subArray\n * @param currentKeyPath\n * @param options\n * @returns {*}\n */\nfunction processArrayKeys(subArray, currentKeyPath, options) {\n    let subArrayKeys = deepKeysFromList(subArray);\n\n    if (!subArray.length) {\n        return options.ignoreEmptyArraysWhenExpanding ? [] : [currentKeyPath];\n    } else if (subArray.length && _.flatten(subArrayKeys).length === 0) {\n        // Has items in the array, but no objects\n        return [currentKeyPath];\n    } else {\n        subArrayKeys = subArrayKeys.map((schemaKeys) => {\n            if (isEmptyArray(schemaKeys)) {\n                return [currentKeyPath];\n            }\n            return schemaKeys.map((subKey) => buildKeyName(currentKeyPath, subKey));\n        });\n\n        return _.uniq(_.flatten(subArrayKeys));\n    }\n}\n\n/**\n * Function used to generate the key path\n * @param upperKeyName String accumulated key path\n * @param currentKeyName String current key name\n * @returns String\n */\nfunction buildKeyName(upperKeyName, currentKeyName) {\n    if (upperKeyName) {\n        return upperKeyName + '.' + currentKeyName;\n    }\n    return currentKeyName;\n}\n\n/**\n * Returns whether this value is a document to recur on or not\n * @param val Any item whose type will be evaluated\n * @returns {boolean}\n */\nfunction isDocumentToRecurOn(val) {\n    return _.isObject(val) && !_.isNull(val) && !Array.isArray(val) && Object.keys(val).length;\n}\n\n/**\n * Returns whether this value is an array to recur on or not\n * @param val Any item whose type will be evaluated\n * @returns {boolean}\n */\nfunction isArrayToRecurOn(val) {\n    return Array.isArray(val);\n}\n\n/**\n * Helper function that determines whether or not a value is an empty array\n * @param val\n * @returns {boolean}\n */\nfunction isEmptyArray(val) {\n    return Array.isArray(val) && !val.length;\n}\n\nfunction mergeOptions(options) {\n    return _.defaults(options || {}, {\n        expandArrayObjects: false,\n        ignoreEmptyArraysWhenExpanding: false\n    });\n}\n","'use strict';\n\nlet constants = require('./constants.json'),\n    utils = require('./utils'),\n    _ = require('underscore'),\n    path = require('doc-path');\n\nconst Csv2Json = function(options) {\n    const escapedWrapDelimiterRegex = new RegExp(options.delimiter.wrap + options.delimiter.wrap, 'g'),\n        excelBOMRegex = new RegExp('^' + constants.values.excelBOM);\n\n    /**\n     * Trims the header key, if specified by the user via the provided options\n     * @param headerKey\n     * @returns {*}\n     */\n    function processHeaderKey(headerKey) {\n        headerKey = removeWrapDelimitersFromValue(headerKey);\n        if (options.trimHeaderFields) {\n            return headerKey.split('.')\n                .map((component) => component.trim())\n                .join('.');\n        }\n        return headerKey;\n    }\n\n    /**\n     * Generate the JSON heading from the CSV\n     * @param lines {String[]} csv lines split by EOL delimiter\n     * @returns {*}\n     */\n    function retrieveHeading(lines) {\n        let params = {lines},\n            // Generate and return the heading keys\n            headerRow = params.lines[0];\n        params.headerFields = headerRow.map((headerKey, index) => ({\n            value: processHeaderKey(headerKey),\n            index: index\n        }));\n\n        // If the user provided keys, filter the generated keys to just the user provided keys so we also have the key index\n        if (options.keys) {\n            params.headerFields = params.headerFields.filter((headerKey) => options.keys.includes(headerKey.value));\n        }\n\n        return params;\n    }\n\n    /**\n     * Splits the lines of the CSV string by the EOL delimiter and resolves and array of strings (lines)\n     * @param csv\n     * @returns {Promise.<String[]>}\n     */\n    function splitCsvLines(csv) {\n        return Promise.resolve(splitLines(csv));\n    }\n\n    /**\n     * Removes the Excel BOM value, if specified by the options object\n     * @param csv\n     * @returns {Promise.<String>}\n     */\n    function stripExcelBOM(csv) {\n        if (options.excelBOM) {\n            return Promise.resolve(csv.replace(excelBOMRegex, ''));\n        }\n        return Promise.resolve(csv);\n    }\n\n    /**\n     * Helper function that splits a line so that we can handle wrapped fields\n     * @param csv\n     */\n    function splitLines(csv) {\n        // Parse out the line...\n        let lines = [],\n            splitLine = [],\n            character,\n            charBefore,\n            charAfter,\n            nextNChar,\n            lastCharacterIndex = csv.length - 1,\n            eolDelimiterLength = options.delimiter.eol.length,\n            stateVariables = {\n                insideWrapDelimiter: false,\n                parsingValue: true,\n                justParsedDoubleQuote: false,\n                startIndex: 0\n            },\n            index = 0;\n\n        // Loop through each character in the line to identify where to split the values\n        while (index < csv.length) {\n            // Current character\n            character = csv[index];\n            // Previous character\n            charBefore = index ? csv[index - 1] : '';\n            // Next character\n            charAfter = index < lastCharacterIndex ? csv[index + 1] : '';\n            // Next n characters, including the current character, where n = length(EOL delimiter)\n            // This allows for the checking of an EOL delimiter when if it is more than a single character (eg. '\\r\\n')\n            nextNChar = utils.getNCharacters(csv, index, eolDelimiterLength);\n\n            if ((nextNChar === options.delimiter.eol && !stateVariables.insideWrapDelimiter ||\n                index === lastCharacterIndex) && charBefore === options.delimiter.field) {\n                // If we reached an EOL delimiter or the end of the csv and the previous character is a field delimiter...\n\n                // If the start index is the current index (and since the previous character is a comma),\n                //   then the value being parsed is an empty value accordingly, add an empty string\n                let parsedValue = nextNChar === options.delimiter.eol && stateVariables.startIndex === index\n                    ? ''\n                    // Otherwise, there's a valid value, and the start index isn't the current index, grab the whole value\n                    : csv.substr(stateVariables.startIndex);\n\n                // Push the value for the field that we were parsing\n                splitLine.push(parsedValue);\n\n                // Since the last character is a comma, there's still an additional implied field value trailing the comma.\n                //   Since this value is empty, we push an extra empty value\n                splitLine.push('');\n\n                // Finally, push the split line values into the lines array and clear the split line\n                lines.push(splitLine);\n                splitLine = [];\n                stateVariables.startIndex = index + eolDelimiterLength;\n                stateVariables.parsingValue = true;\n                stateVariables.insideWrapDelimiter = charAfter === options.delimiter.wrap;\n            } else if (index === lastCharacterIndex || nextNChar === options.delimiter.eol &&\n                // if we aren't inside wrap delimiters or if we are but the character before was a wrap delimiter and we didn't just see two\n                (!stateVariables.insideWrapDelimiter ||\n                    stateVariables.insideWrapDelimiter && charBefore === options.delimiter.wrap && !stateVariables.justParsedDoubleQuote)) {\n                // Otherwise if we reached the end of the line or csv (and current character is not a field delimiter)\n\n                let toIndex = index !== lastCharacterIndex || charBefore === options.delimiter.wrap ? index : undefined;\n\n                // Retrieve the remaining value and add it to the split line list of values\n                splitLine.push(csv.substring(stateVariables.startIndex, toIndex));\n\n                // Finally, push the split line values into the lines array and clear the split line\n                lines.push(splitLine);\n                splitLine = [];\n                stateVariables.startIndex = index + eolDelimiterLength;\n                stateVariables.parsingValue = true;\n                stateVariables.insideWrapDelimiter = charAfter === options.delimiter.wrap;\n            } else if ((charBefore !== options.delimiter.wrap || stateVariables.justParsedDoubleQuote && charBefore === options.delimiter.wrap) &&\n                character === options.delimiter.wrap && utils.getNCharacters(csv, index + 1, eolDelimiterLength) === options.delimiter.eol) {\n                // If we reach a wrap which is not preceded by a wrap delim and the next character is an EOL delim (ie. *\"\\n)\n\n                stateVariables.insideWrapDelimiter = false;\n                stateVariables.parsingValue = false;\n                // Next iteration will substring, add the value to the line, and push the line onto the array of lines\n            } else if (character === options.delimiter.wrap && (index === 0 || utils.getNCharacters(csv, index - 1, eolDelimiterLength) === options.delimiter.eol)) {\n                // If the line starts with a wrap delimiter (ie. \"*)\n\n                stateVariables.insideWrapDelimiter = true;\n                stateVariables.parsingValue = true;\n                stateVariables.startIndex = index;\n            } else if (character === options.delimiter.wrap && charAfter === options.delimiter.field) {\n                // If we reached a wrap delimiter with a field delimiter after it (ie. *\",)\n\n                splitLine.push(csv.substring(stateVariables.startIndex, index + 1));\n                stateVariables.startIndex = index + 2; // next value starts after the field delimiter\n                stateVariables.insideWrapDelimiter = false;\n                stateVariables.parsingValue = false;\n            } else if (character === options.delimiter.wrap && charBefore === options.delimiter.field &&\n                !stateVariables.insideWrapDelimiter && !stateVariables.parsingValue) {\n                // If we reached a wrap delimiter after a comma and we aren't inside a wrap delimiter\n\n                stateVariables.startIndex = index;\n                stateVariables.insideWrapDelimiter = true;\n                stateVariables.parsingValue = true;\n            } else if (character === options.delimiter.wrap && charBefore === options.delimiter.field &&\n                !stateVariables.insideWrapDelimiter && stateVariables.parsingValue) {\n                // If we reached a wrap delimiter with a field delimiter after it (ie. ,\"*)\n\n                splitLine.push(csv.substring(stateVariables.startIndex, index - 1));\n                stateVariables.insideWrapDelimiter = true;\n                stateVariables.parsingValue = true;\n                stateVariables.startIndex = index;\n            } else if (character === options.delimiter.wrap && charAfter === options.delimiter.wrap) {\n                // If we run into an escaped quote (ie. \"\") skip past the second quote\n\n                index += 2;\n                stateVariables.justParsedDoubleQuote = true;\n                continue;\n            } else if (character === options.delimiter.field && charBefore !== options.delimiter.wrap &&\n                charAfter !== options.delimiter.wrap && !stateVariables.insideWrapDelimiter &&\n                stateVariables.parsingValue) {\n                // If we reached a field delimiter and are not inside the wrap delimiters (ie. *,*)\n\n                splitLine.push(csv.substring(stateVariables.startIndex, index));\n                stateVariables.startIndex = index + 1;\n            } else if (character === options.delimiter.field && charBefore === options.delimiter.wrap &&\n                charAfter !== options.delimiter.wrap && !stateVariables.parsingValue) {\n                // If we reached a field delimiter, the previous character was a wrap delimiter, and the\n                //   next character is not a wrap delimiter (ie. \",*)\n\n                stateVariables.insideWrapDelimiter = false;\n                stateVariables.parsingValue = true;\n                stateVariables.startIndex = index + 1;\n            }\n            // Otherwise increment to the next character\n            index++;\n            // Reset the double quote state variable\n            stateVariables.justParsedDoubleQuote = false;\n        }\n\n        return lines;\n    }\n\n    /**\n     * Retrieves the record lines from the split CSV lines and sets it on the params object\n     * @param params\n     * @returns {*}\n     */\n    function retrieveRecordLines(params) {\n        params.recordLines = params.lines.splice(1); // All lines except for the header line\n\n        return params;\n    }\n\n    /**\n     * Retrieves the value for the record from the line at the provided key.\n     * @param line {String[]} split line values for the record\n     * @param key {Object} {index: Number, value: String}\n     */\n    function retrieveRecordValueFromLine(line, key) {\n        // If there is a value at the key's index, use it; otherwise, null\n        let value = line[key.index];\n\n        // Perform any necessary value conversions on the record value\n        return processRecordValue(value);\n    }\n\n    /**\n     * Processes the record's value by parsing the data to ensure the CSV is\n     * converted to the JSON that created it.\n     * @param fieldValue {String}\n     * @returns {*}\n     */\n    function processRecordValue(fieldValue) {\n        // If the value is an array representation, convert it\n        let parsedJson = parseValue(fieldValue);\n        // If parsedJson is anything aside from an error, then we want to use the parsed value\n        // This allows us to interpret values like 'null' --> null, 'false' --> false\n        if (!_.isError(parsedJson)) {\n            fieldValue = parsedJson;\n        } else if (fieldValue === 'undefined') {\n            fieldValue = undefined;\n        }\n\n        return fieldValue;\n    }\n\n    /**\n     * Trims the record value, if specified by the user via the options object\n     * @param fieldValue\n     * @returns {String|null}\n     */\n    function trimRecordValue(fieldValue) {\n        if (options.trimFieldValues && !_.isNull(fieldValue)) {\n            return fieldValue.trim();\n        }\n        return fieldValue;\n    }\n\n    /**\n     * Create a JSON document with the given keys (designated by the CSV header)\n     *   and the values (from the given line)\n     * @param keys String[]\n     * @param line String\n     * @returns {Object} created json document\n     */\n    function createDocument(keys, line) {\n        // Reduce the keys into a JSON document representing the given line\n        return keys.reduce((document, key) => {\n            // If there is a value at the key's index in the line, set the value; otherwise null\n            let value = retrieveRecordValueFromLine(line, key);\n\n            // Otherwise add the key and value to the document\n            return path.setPath(document, key.value, value);\n        }, {});\n    }\n\n    /**\n     * Removes the outermost wrap delimiters from a value, if they are present\n     * Otherwise, the non-wrapped value is returned as is\n     * @param fieldValue\n     * @returns {String}\n     */\n    function removeWrapDelimitersFromValue(fieldValue) {\n        let firstChar = fieldValue[0],\n            lastIndex = fieldValue.length - 1,\n            lastChar = fieldValue[lastIndex];\n        // If the field starts and ends with a wrap delimiter\n        if (firstChar === options.delimiter.wrap && lastChar === options.delimiter.wrap) {\n            return fieldValue.substr(1, lastIndex - 1);\n        }\n        return fieldValue;\n    }\n\n    /**\n     * Unescapes wrap delimiters by replacing duplicates with a single (eg. \"\" -> \")\n     * This is done in order to parse RFC 4180 compliant CSV back to JSON\n     * @param fieldValue\n     * @returns {String}\n     */\n    function unescapeWrapDelimiterInField(fieldValue) {\n        return fieldValue.replace(escapedWrapDelimiterRegex, options.delimiter.wrap);\n    }\n\n    /**\n     * Main helper function to convert the CSV to the JSON document array\n     * @param params {Object} {lines: [String], callback: Function}\n     * @returns {Array}\n     */\n    function transformRecordLines(params) {\n        params.json = params.recordLines.reduce((generatedJsonObjects, line) => { // For each line, create the document and add it to the array of documents\n            line = line.map((fieldValue) => {\n                // Perform the necessary operations on each line\n                fieldValue = removeWrapDelimitersFromValue(fieldValue);\n                fieldValue = unescapeWrapDelimiterInField(fieldValue);\n                fieldValue = trimRecordValue(fieldValue);\n\n                return fieldValue;\n            });\n\n            let generatedDocument = createDocument(params.headerFields, line);\n            return generatedJsonObjects.concat(generatedDocument);\n        }, []);\n\n        return params;\n    }\n\n    /**\n     * Attempts to parse the provided value. If it is not parsable, then an error is returned\n     * @param value\n     * @returns {*}\n     */\n    function parseValue(value) {\n        try {\n            if (utils.isStringRepresentation(value, options) && !utils.isDateRepresentation(value)) {\n                return value;\n            }\n\n            let parsedJson = JSON.parse(value);\n\n            // If the parsed value is an array, then we also need to trim record values, if specified\n            if (_.isArray(parsedJson)) {\n                return parsedJson.map(trimRecordValue);\n            }\n\n            return parsedJson;\n        } catch (err) {\n            return err;\n        }\n    }\n\n    /**\n     * Internally exported csv2json function\n     * Takes options as a document, data as a CSV string, and a callback that will be used to report the results\n     * @param data String csv string\n     * @param callback Function callback function\n     */\n    function convert(data, callback) {\n        // Split the CSV into lines using the specified EOL option\n        // validateCsv(data, callback)\n        //     .then(stripExcelBOM)\n        stripExcelBOM(data)\n            .then(splitCsvLines)\n            .then(retrieveHeading) // Retrieve the headings from the CSV, unless the user specified the keys\n            .then(retrieveRecordLines) // Retrieve the record lines from the CSV\n            .then(transformRecordLines) // Retrieve the JSON document array\n            .then((params) => callback(null, params.json)) // Send the data back to the caller\n            .catch(callback);\n    }\n\n    return {\n        convert,\n        validationFn: _.isString,\n        validationMessages: constants.errors.csv2json\n    };\n};\n\nmodule.exports = { Csv2Json };\n","// @todo import zepto?\r\nimport BlackBoxPlusInfo from \"./BlackBoxPlusInfo\";\r\n\r\nexport default class BlackBoxPlusExport extends BlackBoxPlusInfo {\r\n\r\n    // https://portal.blackbox.global/api/member/5afd6163-a82a-4079-8e3b-592c349ae72d/contribute/footage?index=11&limit=10\r\n    countInTabs;\r\n    urlBaseCache;\r\n\r\n    /**\r\n     * getCountInTabs()\r\n     *\r\n     * @returns {Promise<*>}\r\n     * Example this.countInTabs = {\"countContributeFootages\":115,\"countCurationFootages\":0,\"countContentFootages\":658}\r\n     */\r\n    async getCountInTabs(force = false) {\r\n        if (!this.countInTabs || true === force) {\r\n            this.setStatusLoading(`the count of items`);\r\n            this.countInTabs = await this.callAPI(`/footage/count_in_tabs`);\r\n            console.debug(\"The countInTabs is: \", this.countInTabs);\r\n        }\r\n        return this.countInTabs;\r\n    }\r\n\r\n    /**\r\n     * Gather Footage Info\r\n     * @param type Type can be one of: contribute, curation, content\r\n     * @returns {Promise<[]>}\r\n     */\r\n    async gatherFootageData(type = 'contribute') {\r\n        let memberId = this.getMemberId();\r\n        let limit = 200; // How many results at a time\r\n        let headers = this.getAPICallHeaders('GET');\r\n        let footage = [];\r\n        this.setStatusLoading(`the ${type} results`);\r\n\r\n        await this.getCountInTabs(); // Ensure the count is set\r\n        // Example count_in_tabs response = {\"countContributeFootages\":115,\"countCurationFootages\":0,\"countContentFootages\":658}\r\n        let typeMapping = {\r\n            contribute: {\r\n                totalRecords: this.countInTabs.countContributeFootages,\r\n                apiType: 'contribute',\r\n                apiPost: '',\r\n            },\r\n            curation: {\r\n                totalRecords: this.countInTabs.countCurationFootages,\r\n                apiType: 'curationFootage',\r\n                apiPost: '',\r\n            },\r\n            content: {\r\n                totalRecords: this.countInTabs.countContentFootages,\r\n                apiType: 'content',\r\n                // apiPost: '',\r\n                apiPost: '&contentFilter=O',\r\n            }\r\n        };\r\n\r\n        let totalRecords = typeMapping[type].totalRecords;\r\n        let apiType = typeMapping[type].apiType;\r\n        // let apiPost = typeMapping[type].apiPost;\r\n        let pagesNeeded = Math.ceil(totalRecords / limit);\r\n        console.debug({type, totalRecords, apiType, pagesNeeded});\r\n        for (let page = 1; page <= pagesNeeded; page++) {\r\n\r\n            let index = (page - 1) * limit + 1;\r\n            this.setStatusLoading(`the ${type} items. Page ${page} of ${pagesNeeded}`);\r\n            let url = `https://portal.blackbox.global/api/member/${memberId}/${apiType}/footage?index=${index}&limit=${limit}${typeMapping[type].apiPost}`;\r\n            let request = await fetch(url, headers);\r\n            if (request.ok) {\r\n                let requestContent = await request.json();\r\n                // NB: The Workspace response includes success: true and the rest inside a data object. But the content results don't do this\r\n                // if (requestContent.success !== true) {\r\n                //     this.setStatusError(`API said it was not successful when trying to get your ${type} footage information. Page ${page} of ${pagesNeeded}`);\r\n                //     console.error({error: 'Success is not true in the API response', url, requestContent});\r\n                //     return footage;\r\n                // }\r\n                if (requestContent && requestContent.data && requestContent.data.list && requestContent.data.list.length) {\r\n                    // console.debug(`Adding the ${requestContent.data.list.length} ${type} footage entries to the list. Page ${page} of ${pagesNeeded}`, requestContent);\r\n                    footage = [].concat(footage, requestContent.data.list);\r\n\r\n                } else if (requestContent && requestContent.list && requestContent.list.length) {\r\n                    // console.debug(`Adding the ${requestContent.list.length} ${type} footage entries to the list. Page ${page} of ${pagesNeeded}`, requestContent);\r\n                    footage = [].concat(footage, requestContent.list);\r\n                }\r\n            } else {\r\n                this.setStatusError(`Unable to access a copy of your ${type} footage information`);\r\n                console.error(`Unable to access a copy of your ${type} footage information. Page ${page} of ${pagesNeeded}. URL: ${url}`, request);\r\n                return footage;\r\n            }\r\n        }\r\n        this.setStatusProcessing(`the ${footage.length} ${type} entries`);\r\n\r\n        return footage;\r\n\r\n        // Contribute\r\n        // https://portal.blackbox.global/api/member/${memberId}/project/${element.projectId}/`, headers);\r\n        // https://portal.blackbox.global/api/member/5afd6163-a82a-4079-8e3b-592c349ae72d/contribute/footage?index=11&limit=10\r\n\r\n        // Example Response: {\"success\":true,\"data\":{\"list\":[{\"footageId\":\"62754493-ccc1-4672-bcf7-afdd1481ee09\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0025.mp4\",\"createdAt\":\"2020-01-02T05:49:36.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null},{\"footageId\":\"9c0c0baa-c715-4e2e-90b2-e92b30581b8c\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0050.mp4\",\"createdAt\":\"2020-01-02T05:39:24.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null},{\"footageId\":\"ac7a8997-7977-4861-8cdd-553b5d7fc35b\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0049.mp4\",\"createdAt\":\"2020-01-02T05:37:20.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null},{\"footageId\":\"98614246-2c40-4b9f-855b-a5a220f66a18\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0027.mp4\",\"createdAt\":\"2020-01-02T05:31:00.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null},{\"footageId\":\"72a038ab-c6d1-441a-9a43-8f29a994eb26\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0048.mp4\",\"createdAt\":\"2020-01-02T05:27:22.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null},{\"footageId\":\"20d41152-fc72-4826-9999-cd68e2646927\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0046.mp4\",\"createdAt\":\"2020-01-02T05:25:09.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null},{\"footageId\":\"3578ecb0-ca2e-4460-93df-d7fe8abac275\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0047.mp4\",\"createdAt\":\"2020-01-02T05:21:57.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null},{\"footageId\":\"2f3b4369-6ba0-478a-8b9b-1147d555c8cf\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0042.mp4\",\"createdAt\":\"2020-01-02T05:16:03.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null},{\"footageId\":\"0e5f70d7-a378-492c-8b1f-9b80fd152d34\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0045.mp4\",\"createdAt\":\"2020-01-02T05:13:43.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null},{\"footageId\":\"c7b1de39-a64e-4c41-91cf-f6a2d96d1301\",\"memberId\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"uploadedBy\":\"5afd6163-a82a-4079-8e3b-592c349ae72d\",\"projectId\":null,\"originalFileName\":\"2019-03-15th Cebu Trip Day 1 - Island, Sardines, Turtle, Kawasan falls canyoneering (4K 50fps GoPro) - _V1-0044.mp4\",\"createdAt\":\"2020-01-02T05:07:27.000Z\",\"ownership\":60,\"isOwner\":true,\"approvalStatus\":\"approved\",\"batchName\":\"\",\"canSubmit\":false,\"description\":null,\"keywords\":\"\",\"submissionDate\":null,\"ownerFullName\":\"Michael Kubler\",\"transitionStatus\":\"Uploaded\",\"reviewStatus\":null,\"canDelete\":true,\"sharers\":[],\"editorial\":false,\"editorialCity\":null,\"editorialState\":null,\"editorialCountry\":null,\"editorialText\":null,\"category\":null,\"batchId\":null,\"canPreview\":true,\"canAssignCurator\":false,\"curators\":[{\"id\":\"1ad6e882-4146-4af5-8d33-4586c6deb60b\",\"fullName\":\"Jovelyn Cabahug Domingo\",\"collabShare\":40,\"collabType\":\"curator\",\"locked\":false}],\"documents\":{\"modelDocuments\":[],\"propertyDocuments\":[]},\"isAttachedRelease\":false,\"reviewRequired\":false,\"curationStatus\":\"incomplete\",\"rejectedReason\":[],\"noteToOwner\":null}],\"pageInfo\":{\"totalRecords\":115,\"totalDisplayRecords\":10}}}\r\n    }\r\n\r\n    async getAllFootage() {\r\n\r\n        let blackBoxPlusFootage = {};\r\n        return new Promise((resolve, reject) => {\r\n\r\n            this.getCountInTabs().then(() => {\r\n\r\n                let contributePromise = this.gatherFootageData('contribute').then(function (data) {\r\n                    blackBoxPlusFootage.contribute = data;\r\n                    console.debug(`The contribue footage contains ${data.length} entries`);\r\n                });\r\n                let curationPromise = this.gatherFootageData('curation').then(function (data) {\r\n                    blackBoxPlusFootage.curation = data\r\n                });\r\n                let contentPromise = this.gatherFootageData('content').then(function (data) {\r\n                    blackBoxPlusFootage.content = data\r\n                });\r\n\r\n                // When all completed\r\n                Promise.all([contributePromise, curationPromise, contentPromise]).then((data) => {\r\n\r\n                    console.debug('The footages data is: ', blackBoxPlusFootage);\r\n                    this.addMessage(`<p>All Footage data loaded</p>`);\r\n                    resolve(blackBoxPlusFootage);\r\n\r\n                });\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n\r\n    async getAllFinancials() {\r\n\r\n        let blackBoxPlusFinancials = {};\r\n        this.setStatusLoading(`financial data`);\r\n        return new Promise((resolve, reject) => {\r\n\r\n            let financialSummaryInfoPromise = this.getFinancialSummaryInfo().then(function (data) {\r\n                blackBoxPlusFinancials.financialSummaryInfo = data;\r\n                console.debug(`The financialSummaryInfo contains ${data.length} entries`);\r\n            });\r\n\r\n            let financialEarningsSummaryPromise = this.getFinancialEarningsSummary().then(function (data) {\r\n                blackBoxPlusFinancials.financialEarningsSummary = data;\r\n                console.debug(`The getFinancialEarningsSummary contains ${data.length} entries`);\r\n            });\r\n            let getUnpaidEarningsPromise = this.getUnpaidEarnings().then(function (data) {\r\n                blackBoxPlusFinancials.unpaidEarnings = data;\r\n            });\r\n            let getFinancialPaymentHistoryPromise = this.getFinancialPaymentHistory().then(function (data) {\r\n                blackBoxPlusFinancials.financialPaymentHistory = data;\r\n            });\r\n            let getFinancialTotalEarningsReportPromise = this.getFinancialTotalEarningsReport().then(function (data) {\r\n                blackBoxPlusFinancials.financialTotalEarningsReport = data;\r\n            });\r\n\r\n            // When all completed\r\n            Promise.all([financialSummaryInfoPromise, financialEarningsSummaryPromise, getUnpaidEarningsPromise, getFinancialPaymentHistoryPromise, getFinancialTotalEarningsReportPromise]).then((data) => {\r\n\r\n                console.debug('The blackBoxPlusFinancials data char length is ', JSON.stringify(blackBoxPlusFinancials).length);\r\n                this.addMessage(`<p>All Financial data loaded</p>`);\r\n                resolve(blackBoxPlusFinancials);\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @returns {Promise<*|undefined>}\r\n     */\r\n    async getFinancialSummaryInfo() {\r\n        // URL example https://portal.blackbox.global/api/member/5afd6163-a82a-4079-8e3b-592c349ae72d/summaryInfo\r\n        // Example response = {\"RevenueToDate\":204.25,\"RevenueThisMonth\":0,\"ReferralToDate\":1.08,\"ReferralThisMonth\":0,\"MemberStatus\":\"Regular\",\"MembershipDue\":\"N/A\",\"OutstandingCollaborativeInvitations\":0,\"AvailableOpportunities\":1,\"ReferralMembers\":1}\r\n        return this.callAPI(`/summaryInfo`);\r\n    }\r\n\r\n    async getFinancialEarningsSummary(toDate = null, fromDate = '2017-01-01%2000:00:00') {\r\n        toDate = toDate || this.getFormattedDate(\"{Y}-{M}-{D}\") + '%2023:59:59'; // Until the end of today\r\n        // Example URL https://portal.blackbox.global/api/member/5afd6163-a82a-4079-8e3b-592c349ae72d/earningSummary?fromDate=2019-11-12%2000:00:00&toDate=2020-02-10%2023:59:59\r\n        return this.callAPI(`/earningSummary?fromDate=${fromDate}&toDate=${toDate}`);\r\n    }\r\n\r\n\r\n    /**\r\n     * Unpaid Earnings Summary\r\n     *\r\n     * 'My Revenue' page\r\n     * Described as 'A list of footage have been sold recently but have not been paid'\r\n     *\r\n     * You shouldn't need to use the provided values but if you do it\r\n     * expects toDate and fromDate to be fully formed strings\r\n     * @param toDate\r\n     * @param fromDate\r\n     * @returns {Promise<*|undefined>}\r\n     */\r\n    async getUnpaidEarnings(toDate = null, fromDate = null) {\r\n        let dateMonthAgo = fromDate || new Date();\r\n        // Set it to one month ago\r\n        dateMonthAgo.setMonth(dateMonthAgo.getMonth() - 1); // This works for January as well and goes back to the previous year\r\n        dateMonthAgo.setDate(0); // This will actually from the last day of the month before, just to be sure\r\n\r\n        toDate = toDate || this.getFormattedDate(\"{Y}-{M}-{D}\") + '%2023:59:59'; // Until the end of today\r\n        fromDate = fromDate || this.getFormattedDate(\"{Y}-{M}-{D}\", dateMonthAgo) + '%2000:00:00'; // Until the end of today\r\n        // e.g https://portal.blackbox.global/api/member/5afd6163-a82a-4079-8e3b-592c349ae72d/revenue?fromDate=2019-12-10%2000:00:00&toDate=2020-02-10%2023:59:59&index=1&limit=10\r\n        return this.callAPI(`/revenue?fromDate=${fromDate}&toDate=${toDate}&index=1&limit=500`);\r\n        // Example response\r\n    }\r\n\r\n\r\n    /**\r\n     * Payment History (months)\r\n     *\r\n     * Note that this deals with the pagination\r\n     * Also note that the \"totalEarning\" field is lost,\r\n     * but people using this as CSV can re-created that themselves very easily and\r\n     * it's on a per request basis so will be wrong if there's multiple API calls\r\n     *\r\n     * @returns {Promise<*|undefined>}\r\n     */\r\n    async getFinancialPaymentHistory() {\r\n        // https://portal.blackbox.global/api/member/5afd6163-a82a-4079-8e3b-592c349ae72d/paymentHistory?index=1&limit=10\r\n        // Example api response: {\"list\":[{\"paymentDate\":\"2020-01-19T20:48:00.000Z\",\"grossRev\":65.13,\"netPayment\":64.14,\"paymentMethod\":\"PayPal\",\"transferFee\":1.31,\"commission\":0.33},{\"paymentDate\":\"2019-12-20T15:10:14.000Z\",\"grossRev\":93.52,\"netPayment\":92.12,\"paymentMethod\":\"PayPal\",\"transferFee\":1.88,\"commission\":0.48},{\"paymentDate\":\"2019-11-20T15:45:02.000Z\",\"grossRev\":17.14,\"netPayment\":16.91,\"paymentMethod\":\"PayPal\",\"transferFee\":0.34,\"commission\":0.11},{\"paymentDate\":\"2019-09-20T03:38:44.000Z\",\"grossRev\":8.92,\"netPayment\":8.81,\"paymentMethod\":\"PayPal\",\"transferFee\":0.18,\"commission\":0.07}],\"pageInfo\":{\"totalRecords\":4,\"totalDisplayRecords\":4}}\r\n        return this.callPaginatedAPI(`/paymentHistory?`);\r\n    }\r\n\r\n\r\n    /**\r\n     * Total Earnings Report (Individual sales)\r\n     *\r\n     * Note that this deals with the pagination and date ranges\r\n     *\r\n     * @returns {Promise<*|undefined>}\r\n     */\r\n    async getFinancialTotalEarningsReport(toDate = null, fromDate = '2017-01-01%2000:00:00') {\r\n        // Total Earnings Report (Individual sales)\r\n        // https://portal.blackbox.global/api/member/5afd6163-a82a-4079-8e3b-592c349ae72d/earningsReport?fromDate=2019-12-10%2000:00:00&toDate=2020-02-10%2023:59:59&index=1&limit=10\r\n        // Example {\"items\":[{\"footageId\":\"54e4043f-39eb-4ced-a663-e10745ac2260\",\"footageName\":\"2019-05-16th Oasis One Flight #2 - 14 Sunset descending-.mp4\",\"earning\":18.55,\"totalDownloads\":1,\"dateSold\":\"2020-01-23T00:00:00.000Z\"},{\"footageId\":\"74eab76b-a4b5-4e69-a7e8-afe77b182b1e\",\"footageName\":\"2019-04-21st Manila Bay and StarCity Theme Park - _V1-0022.mp4\",\"earning\":65.46,\"totalDownloads\":1,\"dateSold\":\"2019-12-18T00:00:00.000Z\"}],\"totalEarning\":84.01,\"pageInfo\":{\"totalRecords\":2,\"totalDisplayRecords\":2}}\r\n\r\n        toDate = toDate || this.getFormattedDate(\"{Y}-{M}-{D}\") + '%2023:59:59'; // Until the end of today\r\n        return this.callPaginatedAPI(`/earningsReport?fromDate=${fromDate}&toDate=${toDate}&`);\r\n    }\r\n\r\n\r\n    get urlBase() {\r\n        if (this.urlBaseCache) {\r\n            return this.urlBaseCache;\r\n        } else {\r\n\r\n            let memberId = this.getMemberId();\r\n            return this.urlBaseCache = `https://portal.blackbox.global/api/member/${memberId}`;\r\n        }\r\n    }\r\n\r\n    async callAPI(uri, method = 'GET') {\r\n\r\n        this.setStatusLoading(`Making a call to ${uri}`)\r\n        let headers = this.getAPICallHeaders(method);\r\n        let url = `${this.urlBase}${uri}`;\r\n        let response = await fetch(url, headers);\r\n        if (response.ok) {\r\n            return await response.json();\r\n        } else {\r\n            this.setStatusError(`trying to make an API call to ${uri}`);\r\n            this.addFlashMessage(`Error trying to make an API call to ${uri}`);\r\n            let errorMessage = `No OK response from the API. Got the HTTP status ${response.status} when doing a ${method} request to ${url}`;\r\n            console.log(errorMessage, {url, uri, response, headers});\r\n            throw new Error(errorMessage);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Call Paginated API\r\n     *\r\n     * This deals with the pagination, if needed.\r\n     *\r\n     * NB: The ? or & last char of the uri should be provided by the calling method.\r\n     * @param uri\r\n     * @param method\r\n     * @param limit\r\n     * @returns {Promise<[]>}\r\n     */\r\n    async callPaginatedAPI(uri, method = 'GET', limit = 200) {\r\n        let index = 1;\r\n        let page = 1;\r\n        this.setStatusLoading(`items from ${uri}. Page ${page}`);\r\n        let paginatedUri = `${uri}index=${index}&limit=${limit}`; // Add pagination query\r\n        let response = await this.callAPI(paginatedUri, method);\r\n        console.debug(`The first paginated call to ${uri}`, {uri, paginatedUri, method, response});\r\n        let items = [];\r\n        let pagesNeeded = 0;\r\n        let totalRecords = 0;\r\n        // Add the items (or list entries, because their API isn't consistent)\r\n        if (response.items) {\r\n            items = [].concat(items, response.items);\r\n        }\r\n        if (response.list) {\r\n            items = [].concat(items, response.list);\r\n        }\r\n\r\n        if (response.pageInfo && response.pageInfo.totalRecords) {\r\n            totalRecords = response.pageInfo.totalRecords;\r\n            pagesNeeded = Math.ceil(totalRecords / limit);\r\n        }\r\n\r\n        //  --------------------------------------------------\r\n        //   Make the Paginated Calls (if needed)\r\n        //  --------------------------------------------------\r\n        for (page = 2; page <= pagesNeeded; page++) {\r\n            let index = (page - 1) * limit + 1;\r\n            this.setStatusLoading(`items from ${uri}. Page ${page} of ${pagesNeeded}`);\r\n            paginatedUri = `${uri}?index=${index}&limit=${limit}`; // Add pagination query\r\n            console.debug(`About to make the ${page} paginated call to ${uri}`, {\r\n                uri,\r\n                paginatedUri,\r\n                pagesNeeded,\r\n                totalRecords\r\n            });\r\n            response = await this.callAPI(paginatedUri, method);\r\n            if (response.items) {\r\n                // Add the entries\r\n                items = [].concat(items, response.items);\r\n            }\r\n            if (response.list) {\r\n                // Add the entries\r\n                items = [].concat(items, response.list);\r\n            }\r\n        }\r\n        return items;\r\n\r\n\r\n        // -- Example pageInfo\r\n        // \"pageInfo\": {\r\n        //     \"totalRecords\": 2,\r\n        //     \"totalDisplayRecords\": 2\r\n        // }\r\n    }\r\n\r\n    /**\r\n     * Make Link Element Download\r\n     *\r\n     * Give it an existing A Href element and turn it into a link to a file download\r\n     *\r\n     * @param element\r\n     * @param content\r\n     * @param fileName\r\n     * @param contentType\r\n     * @returns {*}\r\n     */\r\n    makeLinkElementDownload(element, content, fileName, contentType) {\r\n        let file = new Blob([content], {type: contentType});\r\n        element.href = URL.createObjectURL(file);\r\n        element.download = fileName;\r\n        return element; // Don't actually need the returned element\r\n    }\r\n\r\n\r\n    /**\r\n     * Make Link Element Download Json\r\n     *\r\n     * Give it a link element, the array, object or whatever, plus the filename\r\n     * @param element\r\n     * @param jsonContent\r\n     * @param fileName\r\n     */\r\n    makeLinkElementDownloadJson(element, jsonContent, fileName = 'BlackBox.json') {\r\n        return this.makeLinkElementDownload(element, JSON.stringify(jsonContent, null, 2), fileName + '.json', 'application/json');\r\n    }\r\n\r\n    /**\r\n     * Make Link Element Download CSV\r\n     *\r\n     * Give it a link element, the array, object or whatever, plus the filename\r\n     * @param element\r\n     * @param csvContent\r\n     * @param fileName\r\n     */\r\n    makeLinkElementDownloadCsv(element, csvContent, fileName = 'BlackBox.json') {\r\n        return this.makeLinkElementDownload(element, csvContent, fileName + '.csv', 'text/csv');\r\n    }\r\n\r\n    /**\r\n     *\r\n     * If you want a new A link element\r\n     * But mostly so you can have it automatically clicked and start the download\r\n     * @param content\r\n     * @param fileName\r\n     * @param contentType\r\n     * @param downloadAutomatically\r\n     * @returns {HTMLAnchorElement}\r\n     */\r\n    createDownloadLinkElement(content, fileName, contentType, downloadAutomatically = true) {\r\n        let a = document.createElement(\"a\");\r\n        let file = new Blob([content], {type: contentType});\r\n        a.href = URL.createObjectURL(file);\r\n        a.download = fileName;\r\n        a.innerText = fileName;\r\n        if (true === downloadAutomatically) {\r\n            a.click(); // Automatically try to download the file cc\r\n        }\r\n        return a;\r\n    }\r\n\r\n}","// @todo import zepto?\r\n\r\n/**\r\n * =================================================================\r\n *  The base component\r\n * =================================================================\r\n */\r\nexport default class BlackBoxPlusInfo {\r\n\r\n    header = 'BlackBox Plus';\r\n    bookmarkletInfoId = 'bbox_plus_bookmarklet_info';\r\n    idPostfix = '';\r\n    infoElement;\r\n    infoTextElement;\r\n    infoStatusElement;\r\n    infoHeaderElement;\r\n    authToken;\r\n    memberId;\r\n    interfaceSection;\r\n    messagesSection;\r\n    bbox_m_header_menu_id = 'm_header_menu';\r\n\r\n    constructor(header = '') {\r\n        // If there's already another bookmarklet initiated then create another\r\n        let bookmarkletInfoElement = document.getElementById(this.bookmarkletInfoId);\r\n\r\n        if (!bookmarkletInfoElement) {\r\n            console.debug(\"Setting up \" + this.bbox_m_header_menu_id);\r\n            let nav = document.getElementById(this.bbox_m_header_menu_id);\r\n            if (!nav) {\r\n                this.addFlashMessage('Unable to find the Nav Menu, can\\'t add BlackBox, wait until it\\'s loaded and try again', 'error');\r\n                throw new Error('Unable to find the Nav Menu');\r\n            }\r\n            nav.insertAdjacentHTML('afterend', `                   <div id=\"${this.bookmarkletInfoId}\" class=\"bbox_plus_bookmarklet_info_wrapper\" style=\"color: white; float: left; padding-top: 10px; position: absolute; left: 150px; width: 270px;\"><h3 id=\"bbox_plus_header\"                 class=\"bbox_plus_header\">BlackBox Plus</h3><p style=\"color: white\" class=\"bbox_plus_info_text_wrapper\"><strong id=\"bbox_plus_status\"                     style=\"color: red\" class=\"bbox_plus_info_status\">*</strong> &nbsp; <span id=\"bbox_plus_text\"                   class=\"bbox_plus_info_text\">Loading</span></p></div>`);\r\n            console.debug(\"Setup a Blackbox Plus info\");\r\n        } else {\r\n            this.idPostfix = '_2';\r\n            // There's already a bookmarklet installed, to create a 2nd\r\n            this.bookmarkletInfoId = 'bbox_plus_bookmarklet_info' + this.idPostfix;\r\n            if (document.getElementById(this.bookmarkletInfoId)) {\r\n                // @todo: Display the error better, like in a flash message\r\n                this.addFlashMessage('Unable to add a 3rd BlackBox Plus system', 'error');\r\n                throw new Error(\"Unable to add a 3rd BlackBox Plus system\");\r\n            }\r\n            bookmarkletInfoElement.insertAdjacentHTML('afterend', `<div id=\"${this.bookmarkletInfoId}\" class=\"bbox_plus_bookmarklet_info_wrapper\" style=\"color: white; float: left; padding-top: 10px; position: absolute; width: 250px; left: 425px;\"><h3 id=\"bbox_plus_header${this.idPostfix}\"  class=\"bbox_plus_header\">BlackBox Plus</h3><p style=\"color: white\" class=\"bbox_plus_info_text_wrapper\"><strong id=\"bbox_plus_status${this.idPostfix}\" style=\"color: red\" class=\"bbox_plus_info_status\">*</strong> &nbsp; <span id=\"bbox_plus_text${this.idPostfix}\"  class=\"bbox_plus_info_text\">Loading</span></p></div>`);\r\n            console.debug(\"Setup a 2nd Blackbox Plus info\");\r\n        }\r\n        this.infoElement = document.getElementById(this.bookmarkletInfoId);\r\n        this.infoHeaderElement = document.getElementById('bbox_plus_header' + this.idPostfix);\r\n        this.infoStatusElement = document.getElementById('bbox_plus_status' + this.idPostfix);\r\n        this.infoTextElement = document.getElementById('bbox_plus_text' + this.idPostfix);\r\n        this.createFooterSection();\r\n\r\n        if (header) {\r\n            this.setHeader(header);\r\n            this.setInterface(`<h2>BlackBox Plus ${header}</h2>`);\r\n        }\r\n        this.addMessage(`<hr /><h3>Messages</h3>`);\r\n        // this.addMessage('<p>Initial Loading complete</p>');\r\n    }\r\n\r\n    createFooterSection() {\r\n        // let footer = $('footer')[0];\r\n        let footerWrapperElement = document.getElementById('bbox_plus_footer_wrapper');\r\n        let footerElement = document.getElementsByTagName('footer')[0] || null;\r\n        let interfaceSectionContent = `<div class=\"bbox_plus_interface_wrapper\" style=\"float: left; margin-left: 10px; margin-bottom: 10px;\"><div id=\"bbox_plus_interface_section${this.idPostfix}\"></div><div id=\"bbox_plus_messages_section${this.idPostfix}\"></div></div>`;\r\n        if (footerElement && footerWrapperElement) {\r\n            // Already installed before\r\n            // @todo: Make only 50% of the footer\r\n            footerWrapperElement.insertAdjacentHTML('beforeend', interfaceSectionContent);\r\n            $('.bbox_plus_interface_wrapper')[0].style.width = '48%';\r\n            $('.bbox_plus_interface_wrapper')[1].style.width = '48%';\r\n        } else if (footerElement) {\r\n            // Inserting the wrapper as well\r\n            footerElement.insertAdjacentHTML('afterend', `<div id=\"bbox_plus_footer_wrapper\">${interfaceSectionContent}</div>`);\r\n        } else {\r\n            console.error(\"Issue trying to find the <footer> element\");\r\n            this.addFlashMessage('Unable to find the footer section, wait until the page has fully loaded and try again or refresh', 'error');\r\n            throw new Error('Unable to create a Footer section, no footer element found');\r\n        }\r\n        this.interfaceSection = document.getElementById(`bbox_plus_interface_section${this.idPostfix}`);\r\n        this.messagesSection = document.getElementById(`bbox_plus_messages_section${this.idPostfix}`);\r\n    }\r\n\r\n    /**\r\n     * Set Interface\r\n     *\r\n     * The section at the bottom of the screen. This allows for buttons and options, etc..\r\n     * @param html\r\n     * @returns {boolean}\r\n     */\r\n    setInterface(html) {\r\n        this.interfaceSection.innerHTML = html;\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Add Message\r\n     *\r\n     * This is at the bottom of the page, below the Interface section and is for messages like operations which have been completed, etc..\r\n     * @param messageHTML\r\n     * @returns {boolean}\r\n     */\r\n    addMessage(messageHTML) {\r\n        let existingHTML = this.messagesSection.innerHTML || '';\r\n        this.messagesSection.innerHTML = existingHTML + messageHTML;\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Type should be one of 'info', 'success', 'warn', 'error'\r\n     * @param message\r\n     * @param type\r\n     */\r\n    addFlashMessage(message, type, autoRemove = true) {\r\n        // @todo: Implement something similar to https://www.w3schools.com/howto/howto_js_alert.asp\r\n        let messageHTML = `<div class=\"bbox_plus bbox_plus_flash_message bbox_plus_flash_message_type_${type}\"><span class=\"bbox_plus_flash_message_closebtn\" onclick=\"this.parentElement.style.display='none';\">&times;</span>${message}</div>`;\r\n        let flashElement = document.createElement('div');\r\n        flashElement.innerHTML = messageHTML;\r\n        document.body.insertAdjacentElement('beforeend', flashElement);\r\n\r\n        if (true === autoRemove) {\r\n            setTimeout(() => {\r\n                flashElement.remove(); // @todo: fadeout instead\r\n            }, 6000);\r\n        }\r\n        return flashElement;\r\n    }\r\n\r\n    setHeader(header) {\r\n        this.header = header;\r\n        this.infoHeaderElement.innerHTML = header;\r\n    }\r\n\r\n    setStatus(text = '', colour = '') {\r\n        if (text) {\r\n            this.infoTextElement.innerHTML = text;\r\n        }\r\n        if (colour) {\r\n            this.infoStatusElement.style.color = colour;\r\n        }\r\n        console.debug(\"Status: \" + text);\r\n    }\r\n\r\n    setStatusError(context = '') {\r\n        this.setHeader('ERROR ' + this.header);\r\n        this.setStatus(`<span style=\"color: red\">ERROR ${context}</span>`, 'red');\r\n\r\n        // @todo: Also display as a flash message\r\n        this.addFlashMessage('Error ' + context, 'error');\r\n        console.error(\"## ERROR ## \" + context);\r\n    }\r\n\r\n    setStatusLoading(context = '') {\r\n        this.setStatus('Loading ' + context, 'orange');\r\n        console.debug(\"Loading: \" + context);\r\n    }\r\n\r\n    setStatusProcessing(context = '') {\r\n        this.setStatus('Processing ' + context, 'orange');\r\n        console.debug(\"Processing: \" + context);\r\n    }\r\n\r\n    setStatusDone(context = '') {\r\n        this.setStatus('Completed ' + context, 'green');\r\n        console.debug(\"Completed: \" + context);\r\n    }\r\n\r\n\r\n// c = await fetch('https://cors-anywhere.herokuapp.com/');\r\n// d = await c.text();\r\n\r\n    dynamicallyLoadScript(url) {\r\n        var script = document.createElement(\"script\");  // create a script DOM node\r\n        script.src = url;  // set its src to the provided URL\r\n        document.head.appendChild(script);  // add it to the end of the head section of the page (could change 'head' to 'body' to add it to the end of the body section instead)\r\n    }\r\n\r\n    getAuthToken(force = false) {\r\n        if (this.authToken && false === force) {\r\n            return this.authToken;\r\n        }\r\n        let authToken = localStorage.token; // Get this by looking at an existing request.\r\n        if (!authToken) {\r\n            // $messagesSection.append('<h2 class=\"btn-outline-danger\">Unable to get your authToken. Are you logged in?</h2>');\r\n            this.setStatusError('Unable to get your auth token, are you logged in?');\r\n            throw new Error('Error, invalid auth token');\r\n        }\r\n        return authToken;\r\n    }\r\n\r\n    getMemberId(force = false) {\r\n\r\n        if (this.memberId && false === force) {\r\n            return this.memberId;\r\n        }\r\n        let imageUrl = $('.m-topbar__userpic img').attr('src'); // e.g \"https://portal.blackbox.global/api/member/5afd6163-a82a-4079-8e3b-592c349ae72d/W/avatar?1577006745917\" -> 5afd6163-a82a-4079-8e3b-592c349ae72d\r\n\r\n        if (!imageUrl) {\r\n            this.setStatusError('Do you have an avatar picture? Without it we are unable to work out your BlackBox memberId');\r\n            throw new Error('Error, Unable to work out your Blackbox MemberId');\r\n        } else {\r\n            let memberId = imageUrl.replace('https://portal.blackbox.global/api/member/', '').replace(/\\/W\\/avatar.*/, '');\r\n            if (memberId) {\r\n                this.memberId = memberId;\r\n            } else {\r\n                this.setStatusError('Unable to work out your BlackBox memberId');\r\n                throw new Error('Issue trying to work out the memberId based off the avatar image');\r\n            }\r\n\r\n            return memberId;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    async clearMarketplaceCollaborationProjectsList() {\r\n\r\n        this.setStatusLoading(`Loading up the Collaboration Projects list`);\r\n        let memberId = this.getMemberId();\r\n        let authToken = this.getAuthToken();\r\n\r\n        let headers = getDefaultAPICallHeaders('POST');\r\n        let collaboratedProjectsListResponse = await fetch(`https://portal.blackbox.global/api/member/${memberId}/collaboratedProjects?index=1&limit=100`, headers);\r\n\r\n\r\n        if (collaboratedProjectsListResponse.ok) {\r\n            // if HTTP-status is 200-299\r\n            let collaboratedProjects = await collaboratedProjectsListResponse.json();\r\n            console.debug(`There are ${collaboratedProjects.list.length} Collaboration Project entries `, collaboratedProjects);\r\n            this.setStatusProcessing(`Clearing the ${collaboratedProjects.list.length} Collaboration Projects`);\r\n            if (collaboratedProjects.list.length > 0) {\r\n                headers.method = 'PUT'; // Want to do a PUT call to clear the entries\r\n                collaboratedProjects.list.forEach((element, index) => {\r\n                    this.setStatusProcessing(`Clearing #${index} ${element.projectName}`);\r\n                    // $messagesSection.append('<p class=\"\" data-projectid=\"${element.projectId}\">Clearing the Marketplace Entry #{index} ${element.projectName}</p>');\r\n                    console.debug(`Clearing the Collab Entry #${index} ${element.projectName}`, element); // Console.log doesn't actually work, they've set it to an empty function\r\n                    fetch(`https://portal.blackbox.global/api/member/${memberId}/project/${element.projectId}/clearCurationProject`, headers);\r\n                });\r\n            }\r\n\r\n        } else {\r\n            this.setStatusError(`Unable to get the list of projects. HTTP-Error: ${collaboratedProjectsListResponse.status}`);\r\n        }\r\n    }\r\n\r\n    getAPICallHeaders(method = 'GET') {\r\n        let authToken = this.getAuthToken();\r\n        return {\r\n            \"credentials\": \"include\",\r\n            \"headers\": {\r\n                \"accept\": \"application/json, text/plain, */*\",\r\n                \"accept-language\": \"en-AU,en;q=0.9,en-US;q=0.8\",\r\n                \"cache-control\": \"no-cache\",\r\n                \"content-type\": \"application/vnd.blackbox.v1+json\",\r\n                \"pragma\": \"no-cache\",\r\n                \"sec-fetch-mode\": \"cors\",\r\n                \"sec-fetch-site\": \"same-origin\",\r\n                \"timeout\": \"8000\",\r\n                \"token\": authToken\r\n            },\r\n            \"referrer\": \"https://portal.blackbox.global/footage/marketplace?blackbox_plus=true\", // Added a query string so Blackbox can track these queries\r\n            \"referrerPolicy\": \"no-referrer-when-downgrade\",\r\n            // \"body\": \"{}\",\r\n            \"method\": method,\r\n            \"mode\": \"cors\"\r\n        };\r\n    }\r\n\r\n\r\n    getFormattedDate(format = \"{Y}-{M}-{D}{st} {h}_{m}{ap}\", now = null) {\r\n        // e.g 2012-09-05th 09_02AM Based on https://www.willmaster.com/library/generators/date-and-time-formatting.php using {Y}-{M}-{D} {h}_{m}{ap}\r\n        // let format = \"{Y}-{M}-{D}{st} {h}_{m}{ap}\";\r\n        now = now || new Date(); // This current millisecond on user's computer.\r\n        let Month = '';\r\n        Month = now.getMonth() + 1;\r\n        if (Month < 10) {\r\n            Month = \"0\" + Month;\r\n        }\r\n        format = format.replace(/{M}/g, Month);\r\n\r\n        // Month Day\r\n        let Mday = '';\r\n        Mday = now.getDate();\r\n        if (Mday < 10) {\r\n            Mday = \"0\" + Mday;\r\n        }\r\n        format = format.replace(/{D}/g, Mday);\r\n\r\n\r\n        // St day suffix (Michael Kubler's custom addition)\r\n        // e.g 1st, 2nd, 3rd, 4th, 5th ...\r\n        let st = 'th';\r\n        let MdaySingle = now.getDate();\r\n        if (MdaySingle < 4) {\r\n            if (MdaySingle === 3) {\r\n                st = 'rd';\r\n            } else if (MdaySingle === 2) {\r\n                st = 'nd';\r\n            } else if (MdaySingle === 1) {\r\n                st = 'st';\r\n            }\r\n        }\r\n        format = format.replace(/{st}/g, st);\r\n\r\n\r\n        let Year = '';\r\n        Year = now.getFullYear();\r\n        format = format.replace(/{Y}/g, Year);\r\n        let h = now.getHours();\r\n        let ap = '';\r\n        let pm = (h > 11);\r\n        if (h > 12) {\r\n            h -= 12;\r\n        }\r\n        ap = pm ? \"PM\" : \"AM\";\r\n        format = format.replace(/{ap}/g, ap);\r\n        let hh = '';\r\n        if (h < 10) {\r\n            hh = \"0\" + h;\r\n        } else {\r\n            hh = h;\r\n        }\r\n        format = format.replace(/{h}/g, hh);\r\n        let mm = '';\r\n        mm = now.getMinutes();\r\n        if (mm < 10) {\r\n            mm = \"0\" + mm;\r\n        }\r\n        format = format.replace(/{m}/g, mm);\r\n        return format;\r\n    }\r\n\r\n}","import \"./styles.less\";\r\nimport \"regenerator-runtime/runtime\";\r\n// import BlackBoxPlusInfo from './components/blackBoxPlusInfo';\r\n// window.blackboxPlusInfo = new BlackBoxPlusInfo('Exporter');\r\nimport BlackBoxPlusExport from './components/BlackBoxPlusExport';\r\nimport {json2csvAsync} from 'json-2-csv';\r\n\r\nvar blackBoxPlusExport = new BlackBoxPlusExport('Data Exporter');\r\nwindow.blackBoxPlusExport = blackBoxPlusExport;\r\n\r\nconsole.debug(\"Configuring BlackBox Plus\");\r\nblackBoxPlusExport.setHeader('BB+ Exporter');\r\nblackBoxPlusExport.setStatusLoading('Initial Setup');\r\n\r\n(async () => {\r\n\r\n\r\n    if (!window.blackBoxPlusFootage) {\r\n        window.blackBoxPlusFootage = await blackBoxPlusExport.getAllFootage();\r\n    }\r\n    if (!window.blackBoxPlusFinancials) {\r\n        window.blackBoxPlusFinancials = await blackBoxPlusExport.getAllFinancials();\r\n    }\r\n\r\n    blackBoxPlusExport.setStatusProcessing('the creation of CSV files');\r\n    // blackBoxPlusExport.addMessage('<h2>Footage data is: </h2><code>' + JSON.stringify(blackBoxPlusFootage) + `</code>`);\r\n    let linkhrefAndClassesJson = `href=\"#\" class=\"bbox_plus_download_link bbox_plus_download_json\"`;\r\n    let linkhrefAndClassesCsv = `href=\"#\" class=\"bbox_plus_download_link bbox_plus_download_csv\"`;\r\n    blackBoxPlusExport.setInterface(`<h2>BlackBox Plus - Data Export</h2>\r\n<p>Click the links below to download the:<br />\r\n${blackBoxPlusFootage.contribute.length} Workspace Items as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_workspace_items_contribute_json\">.json</a> as <a ${linkhrefAndClassesCsv} id=\"bbox_plus_download_workspace_items_contribute_csv\">.csv</a><br />\r\n${blackBoxPlusFootage.curation.length} Curation Items as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_workspace_items_curation_json\">.json</a> as <a ${linkhrefAndClassesCsv} id=\"bbox_plus_download_workspace_items_curation_csv\">.csv</a><br />\r\n${blackBoxPlusFootage.content.length} Submitted Content Items as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_workspace_items_content_json\">.json</a> as <a ${linkhrefAndClassesCsv} id=\"bbox_plus_download_workspace_items_content_csv\">.csv</a><br />\r\nOr All Footage Items as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_workspace_items_all_json\">.json</a><br />\r\n<br />\r\n<h2>Financial Summary</h2>\r\nEarnings Summary as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_financial_earnings_summary_json\">.json</a> as <a ${linkhrefAndClassesCsv} id=\"bbox_plus_download_financial_earnings_summary_csv\">.csv</a><br />\r\nFinancial Summary as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_financial_summary_json\">.json</a> as <a ${linkhrefAndClassesCsv} id=\"bbox_plus_download_financial_summary_csv\">.csv</a><br />\r\nFinancial Payment History as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_financial_payment_history_json\">.json</a> as <a ${linkhrefAndClassesCsv} id=\"bbox_plus_download_financial_payment_history_csv\">.csv</a><br />\r\nFinancial Total Earnings Report as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_financial_total_earnings_report_json\">.json</a> as <a ${linkhrefAndClassesCsv} id=\"bbox_plus_download_financial_total_earnings_report_csv\">.csv</a><br />\r\nUnpaid Earnings List (recently sold but not yet paid) as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_unpaid_earnings_json\">.json</a> as <a ${linkhrefAndClassesCsv} id=\"bbox_plus_download_unpaid_earnings_csv\">.csv</a><br />\r\nOr All Financials as <a ${linkhrefAndClassesJson} id=\"bbox_plus_download_financials_all_json\">.json</a><br />\r\n\r\n</p>`);\r\n\r\n\r\n    // ----------------------------------------------------------------------------\r\n    //   CSV\r\n    // ----------------------------------------------------------------------------\r\n    let csvData = {blackBoxPlusFootage: {}, blackBoxPlusFinancials: {}};\r\n    // -- Footage\r\n    let bbox_plus_download_workspace_items_contribute_csv_promise = json2csvAsync(blackBoxPlusFootage.contribute, {expandArrayObjects: true}).then(function (data) {\r\n        csvData.blackBoxPlusFootage.contribute = data;\r\n    });\r\n    let bbox_plus_download_workspace_items_curation_csv_promise = json2csvAsync(blackBoxPlusFootage.curation, {expandArrayObjects: true}).then(function (data) {\r\n        csvData.blackBoxPlusFootage.curation = data;\r\n    });\r\n\r\n    let bbox_plus_download_workspace_items_content_csv_promise = json2csvAsync(blackBoxPlusFootage.content, {expandArrayObjects: true}).then(function (data) {\r\n        csvData.blackBoxPlusFootage.content = data;\r\n    });\r\n\r\n    // -- Financials\r\n    let bbox_plus_download_financial_earnings_summary_csv_promise = json2csvAsync(blackBoxPlusFinancials.financialEarningsSummary.items, {expandArrayObjects: true}).then(function (data) {\r\n        csvData.blackBoxPlusFinancials.financialEarningsSummary = data;\r\n    });\r\n    let bbox_plus_download_financial_summary_csv_promise = json2csvAsync(blackBoxPlusFinancials.financialSummaryInfo, {expandArrayObjects: true}).then(function (data) {\r\n        csvData.blackBoxPlusFinancials.financialSummaryInfo = data;\r\n    });\r\n    let bbox_plus_download_financial_payment_history_csv_promise = json2csvAsync(blackBoxPlusFinancials.financialPaymentHistory, {expandArrayObjects: true}).then(function (data) {\r\n        csvData.blackBoxPlusFinancials.financialPaymentHistory = data;\r\n    });\r\n    let bbox_plus_download_financial_total_earnings_report_csv_promise = json2csvAsync(blackBoxPlusFinancials.financialTotalEarningsReport, {expandArrayObjects: true}).then(function (data) {\r\n        csvData.blackBoxPlusFinancials.financialTotalEarningsReport = data;\r\n    });\r\n    let bbox_plus_download_unpaid_earnings_csv_promise = json2csvAsync(blackBoxPlusFinancials.unpaidEarnings.items, {expandArrayObjects: true}).then(function (data) {\r\n        csvData.blackBoxPlusFinancials.unpaidEarnings = data;\r\n    });\r\n    // bbox_plus_download_financial_earnings_summary_csv // process blackBoxPlusFinancials.financialEarningsSummary.items\r\n    // bbox_plus_download_financial_summary_csv // process blackBoxPlusFinancials.financialSummaryInfo\r\n    // bbox_plus_download_financial_payment_history_csv // process financialPaymentHistory\r\n    // bbox_plus_download_financial_total_earnings_report_csv // process financialTotalEarningsReport\r\n    // bbox_plus_download_unpaid_earnings_csv // process blackBoxPlusFinancials.unpaidEarnings.items\r\n\r\n\r\n    // Wait for the CSV file processing to be completed\r\n    await Promise.all([bbox_plus_download_workspace_items_contribute_csv_promise,bbox_plus_download_workspace_items_curation_csv_promise,  bbox_plus_download_workspace_items_content_csv_promise,\r\n        bbox_plus_download_financial_earnings_summary_csv_promise, bbox_plus_download_financial_summary_csv_promise, bbox_plus_download_financial_payment_history_csv_promise, bbox_plus_download_financial_total_earnings_report_csv_promise, bbox_plus_download_unpaid_earnings_csv_promise\r\n    ]);\r\n    console.debug('csvData char length is ', JSON.stringify(csvData).length);\r\n    let dateFormat = blackBoxPlusExport.getFormattedDate(); // e.g 2012-09-05th 09:02AM Based on https://www.willmaster.com/library/generators/date-and-time-formatting.php using {Y}-{M}-{D}{st} {h}:{m}{ap}\r\n    // Footage\r\n    blackBoxPlusExport.makeLinkElementDownloadCsv($('#bbox_plus_download_workspace_items_contribute_csv')[0], csvData.blackBoxPlusFootage.contribute, `${dateFormat} BlackBox Footage - Contribute Workspace Items`);\r\n    blackBoxPlusExport.makeLinkElementDownloadCsv($('#bbox_plus_download_workspace_items_curation_csv')[0], csvData.blackBoxPlusFootage.curation, `${dateFormat} BlackBox Footage - Curation Items`);\r\n    blackBoxPlusExport.makeLinkElementDownloadCsv($('#bbox_plus_download_workspace_items_content_csv')[0], csvData.blackBoxPlusFootage.content, `${dateFormat} BlackBox Footage - Processed Submitted Items`);\r\n    // Finances\r\n    blackBoxPlusExport.makeLinkElementDownloadCsv($('#bbox_plus_download_financial_earnings_summary_csv')[0], csvData.blackBoxPlusFinancials.financialEarningsSummary, `${dateFormat} BlackBox Financials Earnings Summary`);\r\n    blackBoxPlusExport.makeLinkElementDownloadCsv($('#bbox_plus_download_financial_summary_csv')[0], csvData.blackBoxPlusFinancials.financialSummaryInfo, `${dateFormat} BlackBox Financials Summary Info`);\r\n    blackBoxPlusExport.makeLinkElementDownloadCsv($('#bbox_plus_download_financial_payment_history_csv')[0], csvData.blackBoxPlusFinancials.financialPaymentHistory, `${dateFormat} BlackBox Financials Payment History`);\r\n    blackBoxPlusExport.makeLinkElementDownloadCsv($('#bbox_plus_download_financial_total_earnings_report_csv')[0], csvData.blackBoxPlusFinancials.financialTotalEarningsReport, `${dateFormat} BlackBox Financials Total Earnings Report`);\r\n    blackBoxPlusExport.makeLinkElementDownloadCsv($('#bbox_plus_download_unpaid_earnings_csv')[0], csvData.blackBoxPlusFinancials.unpaidEarnings, `${dateFormat} BlackBox Financials Unpaid Earnings`);\r\n\r\n    // ----------------------------------------------------------------------------\r\n    //   JSON\r\n    // ----------------------------------------------------------------------------\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_workspace_items_contribute_json')[0], blackBoxPlusFootage.contribute, `${dateFormat} BlackBox Contribute Workspace Items`);\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_workspace_items_curation_json')[0], blackBoxPlusFootage.curation, `${dateFormat} BlackBox Curation Items`);\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_workspace_items_content_json')[0], blackBoxPlusFootage.content, `${dateFormat} BlackBox Content Items`);\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_workspace_items_all_json')[0], blackBoxPlusFootage, `${dateFormat} BlackBox All Footage Items`);\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_financial_earnings_summary_json')[0], blackBoxPlusFinancials.financialEarningsSummary, `${dateFormat} BlackBox Financial Earnings Summary Info`);\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_financial_summary_json')[0], blackBoxPlusFinancials.financialSummaryInfo, `${dateFormat} BlackBox Financial Summary Info`);\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_financial_payment_history_json')[0], blackBoxPlusFinancials.financialPaymentHistory, `${dateFormat} BlackBox Financial Payment History`);\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_financial_total_earnings_report_json')[0], blackBoxPlusFinancials.financialTotalEarningsReport, `${dateFormat} BlackBox Financial Total Earnings Report`);\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_unpaid_earnings_json')[0], blackBoxPlusFinancials.unpaidEarnings, `${dateFormat} BlackBox Financial Unpaid Earnings Summary Info`);\r\n    blackBoxPlusExport.makeLinkElementDownloadJson($('#bbox_plus_download_financials_all_json')[0], blackBoxPlusFinancials, `${dateFormat} BlackBox All Financials`);\r\n    blackBoxPlusExport.setStatusDone(`<span onClick=\"window.scrollTo(0,document.body.scrollHeight);\">View the links in the footer</span>`);\r\n    scrollTo(0, document.body.scrollHeight);\r\n\r\n    // If we want to Dedupe the contents, best option seems to be doing it based on footageId?\r\n    // https://wsvincent.com/javascript-remove-duplicates-array/\r\n    // let footageIds = blackBoxPlusFootage.content.map(function (footage) {\r\n    //     return footage.footageId;\r\n    // });\r\n    // let uniqueFootageIds = [...new Set(footageIds)];\r\n\r\n})();\r\n\r\n\r\n"],"sourceRoot":""}